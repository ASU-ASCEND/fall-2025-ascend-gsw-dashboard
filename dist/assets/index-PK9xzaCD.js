function Rn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Pr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function mo(t){let n,e,r;t.length!==2?(n=Rn,e=(f,c)=>Rn(t(f),c),r=(f,c)=>t(f)-c):(n=t===Rn||t===Pr?t:qp,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const h=s+u>>>1;e(f[h],c)<0?s=h+1:u=h}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const h=s+u>>>1;e(f[h],c)<=0?s=h+1:u=h}while(s<u)}return s}function a(f,c,s=0,u=f.length){const h=i(f,c,s,u-1);return h>s&&r(f[h-1],c)>-r(f[h],c)?h-1:h}return{left:i,center:a,right:o}}function qp(){return 0}function Js(t){return t===null?NaN:+t}function*Bp(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Yp=mo(Rn),bo=Yp.right;mo(Js).center;function Lf(t,n){let e=0;for(let r of t)r!=null&&(r=+r)>=r&&++e;return e}function Hp(t){return t.length|0}function Wp(t){return!(t>0)}function Vp(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Gp(t){return n=>t(...n)}function Xp(...t){const n=typeof t[t.length-1]=="function"&&Gp(t.pop());t=t.map(Vp);const e=t.map(Hp),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Wp))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function tl(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function nl(t,n){const e=tl(t,n);return e&&Math.sqrt(e)}function Ot(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class ie{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class xr extends Map{constructor(n,e=il){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Da(this,n))}has(n){return super.has(Da(this,n))}set(n,e){return super.set(el(this,n),e)}delete(n){return super.delete(rl(this,n))}}class yo extends Set{constructor(n,e=il){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Da(this,n))}add(n){return super.add(el(this,n))}delete(n){return super.delete(rl(this,n))}}function Da({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function el({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function rl({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function il(t){return t!==null&&typeof t=="object"?t.valueOf():t}function La(t){return t}function ol(t,...n){return Rf(t,La,La,n)}function Si(t,n,...e){return Rf(t,La,n,e)}function Zp(t,n,...e){return Rf(t,Array.from,n,e)}function Rf(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const f=new xr,c=r[a++];let s=-1;for(const u of o){const h=c(u,++s,o),l=f.get(h);l?l.push(u):f.set(h,[u])}for(const[u,h]of f)f.set(u,i(h,a));return n(f)})(t,0)}function Kp(t,n){return Array.from(n,e=>t[e])}function al(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Di(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Di(e[i],e[o]))),Kp(t,r)}return t.sort(fl(e))}function fl(t=Rn){if(t===Rn)return Di;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Di(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const jp=Math.sqrt(50),Qp=Math.sqrt(10),Jp=Math.sqrt(2);function Li(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=jp?10:o>=Qp?5:o>=Jp?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?Li(t,n,e*2):[f,c,s]}function Mr(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Li(n,t,e):Li(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function Ri(t,n,e){return n=+n,t=+t,e=+e,Li(t,n,e)[2]}function Ra(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Ri(n,t,e):Ri(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function tg(t){return Math.max(1,Math.ceil(Math.log(Lf(t))/Math.LN2)+1)}function fn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function ng(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function $r(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function eg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function cl(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Di:fl(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(c-h)/c)*(s-c/2<0?-1:1),d=Math.max(e,Math.floor(n-s*h/c+l)),p=Math.min(r,Math.floor(n+(c-s)*h/c+l));cl(t,n,d,p,i)}const o=t[n];let a=e,f=r;for(er(t,e,n),i(t[r],o)>0&&er(t,e,r);a<f;){for(er(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?er(t,e,f):(++f,er(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function er(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function ke(t,n,e){if(t=Float64Array.from(Bp(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return $r(t);if(n>=1)return fn(t);var r,i=(r-1)*n,o=Math.floor(i),a=fn(cl(t,o).subarray(0,o+1)),f=$r(t.subarray(o+1));return a+(f-a)*(i-o)}}function rg(t,n,e=Js){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function ig(t,n,e){const r=Lf(t),i=ke(t,.75)-ke(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function ul(t,n,e){const r=Lf(t),i=nl(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function og(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Fa(t,n){return ke(t,.5,n)}function*ag(t){for(const n of t)yield*n}function sl(t){return Array.from(ag(t))}function fg(t,n){const e=new xr;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function cg(t,n=ug){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function ug(t,n){return[t,n]}function Pa(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function _o(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Fi(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function sg(t){return t}var lg=3,Kc=1e-6;function hg(t){return"translate("+t+",0)"}function dg(t){return n=>+t(n)}function pg(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function gg(){return!this.__axis}function mg(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",h=hg;function l(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):sg),m=Math.max(o,0)+f,_=n.range(),b=+_[0]+c,v=+_[_.length-1]+c,y=(n.bandwidth?pg:dg)(n.copy(),c),M=d.selection?d.selection():d,w=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,n).order(),T=x.exit(),S=x.enter().append("g").attr("class","tick"),N=x.select("line"),$=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),N=N.merge(S.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),$=$.merge(S.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy","0.71em")),d!==M&&(w=w.transition(d),x=x.transition(d),N=N.transition(d),$=$.transition(d),T=T.transition(d).attr("opacity",Kc).attr("transform",function(D){return isFinite(D=y(D))?h(D+c):this.getAttribute("transform")}),S.attr("opacity",Kc).attr("transform",function(D){var F=this.parentNode.__axis;return h((F&&isFinite(F=F(D))?F:y(D))+c)})),T.remove(),w.attr("d",a?"M"+b+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+b+","+c+"H"+v),x.attr("opacity",1).attr("transform",function(D){return h(y(D)+c)}),N.attr(u+"2",s*o),$.attr(u,s*m).text(g),M.filter(gg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(c=+d,l):c},l}function bg(t){return mg(lg,t)}var yg={value:()=>{}};function ll(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ai(e)}function Ai(t){this._=t}function _g(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ai.prototype=ll.prototype={constructor:Ai,on:function(t,n){var e=this._,r=_g(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=wg(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=jc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=jc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ai(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function wg(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function jc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=yg,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Oa="http://www.w3.org/1999/xhtml";const Ie={svg:"http://www.w3.org/2000/svg",xhtml:Oa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wo(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ie.hasOwnProperty(n)?{space:Ie[n],local:t}:t}function vg(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Oa&&n.documentElement.namespaceURI===Oa?n.createElement(t):n.createElementNS(e,t)}}function xg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vo(t){var n=wo(t);return(n.local?xg:vg)(n)}function Mg(){}function Ff(t){return t==null?Mg:function(){return this.querySelector(t)}}function $g(t){typeof t!="function"&&(t=Ff(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new It(r,this._parents)}function Tg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sg(){return[]}function hl(t){return t==null?Sg:function(){return this.querySelectorAll(t)}}function Ag(t){return function(){return Tg(t.apply(this,arguments))}}function Cg(t){typeof t=="function"?t=Ag(t):t=hl(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new It(r,i)}function dl(t){return function(){return this.matches(t)}}function pl(t){return function(n){return n.matches(t)}}var Eg=Array.prototype.find;function Ng(t){return function(){return Eg.call(this.children,t)}}function kg(){return this.firstElementChild}function Ig(t){return this.select(t==null?kg:Ng(typeof t=="function"?t:pl(t)))}var Dg=Array.prototype.filter;function Lg(){return Array.from(this.children)}function Rg(t){return function(){return Dg.call(this.children,t)}}function Fg(t){return this.selectAll(t==null?Lg:Rg(typeof t=="function"?t:pl(t)))}function Pg(t){typeof t!="function"&&(t=dl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new It(r,this._parents)}function gl(t){return new Array(t.length)}function Og(){return new It(this._enter||this._groups.map(gl),this._parents)}function Pi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Pi.prototype={constructor:Pi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ug(t){return function(){return t}}function zg(t,n,e,r,i,o){for(var a=0,f,c=n.length,s=o.length;a<s;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Pi(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function qg(t,n,e,r,i,o,a){var f,c,s=new Map,u=n.length,h=o.length,l=new Array(u),d;for(f=0;f<u;++f)(c=n[f])&&(l[f]=d=a.call(c,c.__data__,f,n)+"",s.has(d)?i[f]=c:s.set(d,c));for(f=0;f<h;++f)d=a.call(t,o[f],f,o)+"",(c=s.get(d))?(r[f]=c,c.__data__=o[f],s.delete(d)):e[f]=new Pi(t,o[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function Bg(t){return t.__data__}function Yg(t,n){if(!arguments.length)return Array.from(this,Bg);var e=n?qg:zg,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ug(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],h=i[s],l=h.length,d=Hg(t.call(u,u&&u.__data__,s,r)),p=d.length,g=f[s]=new Array(p),m=a[s]=new Array(p),_=c[s]=new Array(l);e(u,h,g,m,_,d,n);for(var b=0,v=0,y,M;b<p;++b)if(y=g[b]){for(b>=v&&(v=b+1);!(M=m[v])&&++v<p;);y._next=M||null}}return a=new It(a,r),a._enter=f,a._exit=c,a}function Hg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wg(){return new It(this._exit||this._groups.map(gl),this._parents)}function Vg(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Gg(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=e[c],u=r[c],h=s.length,l=f[c]=new Array(h),d,p=0;p<h;++p)(d=s[p]||u[p])&&(l[p]=d);for(;c<i;++c)f[c]=e[c];return new It(f,this._parents)}function Xg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Zg(t){t||(t=Kg);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(n)}return new It(i,this._parents).order()}function Kg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function jg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qg(){return Array.from(this)}function Jg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function tm(){let t=0;for(const n of this)++t;return t}function nm(){return!this.node()}function em(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function rm(t){return function(){this.removeAttribute(t)}}function im(t){return function(){this.removeAttributeNS(t.space,t.local)}}function om(t,n){return function(){this.setAttribute(t,n)}}function am(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function fm(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function cm(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function um(t,n){var e=wo(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?im:rm:typeof n=="function"?e.local?cm:fm:e.local?am:om)(e,n))}function ml(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sm(t){return function(){this.style.removeProperty(t)}}function lm(t,n,e){return function(){this.style.setProperty(t,n,e)}}function hm(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function dm(t,n,e){return arguments.length>1?this.each((n==null?sm:typeof n=="function"?hm:lm)(t,n,e??"")):De(this.node(),t)}function De(t,n){return t.style.getPropertyValue(n)||ml(t).getComputedStyle(t,null).getPropertyValue(n)}function pm(t){return function(){delete this[t]}}function gm(t,n){return function(){this[t]=n}}function mm(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function bm(t,n){return arguments.length>1?this.each((n==null?pm:typeof n=="function"?mm:gm)(t,n)):this.node()[t]}function bl(t){return t.trim().split(/^|\s+/)}function Pf(t){return t.classList||new yl(t)}function yl(t){this._node=t,this._names=bl(t.getAttribute("class")||"")}yl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _l(t,n){for(var e=Pf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function wl(t,n){for(var e=Pf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ym(t){return function(){_l(this,t)}}function _m(t){return function(){wl(this,t)}}function wm(t,n){return function(){(n.apply(this,arguments)?_l:wl)(this,t)}}function vm(t,n){var e=bl(t+"");if(arguments.length<2){for(var r=Pf(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?wm:n?ym:_m)(e,n))}function xm(){this.textContent=""}function Mm(t){return function(){this.textContent=t}}function $m(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Tm(t){return arguments.length?this.each(t==null?xm:(typeof t=="function"?$m:Mm)(t)):this.node().textContent}function Sm(){this.innerHTML=""}function Am(t){return function(){this.innerHTML=t}}function Cm(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Em(t){return arguments.length?this.each(t==null?Sm:(typeof t=="function"?Cm:Am)(t)):this.node().innerHTML}function Nm(){this.nextSibling&&this.parentNode.appendChild(this)}function km(){return this.each(Nm)}function Im(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dm(){return this.each(Im)}function Lm(t){var n=typeof t=="function"?t:vo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Rm(){return null}function Fm(t,n){var e=typeof t=="function"?t:vo(t),r=n==null?Rm:typeof n=="function"?n:Ff(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Pm(){var t=this.parentNode;t&&t.removeChild(this)}function Om(){return this.each(Pm)}function Um(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function zm(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function qm(t){return this.select(t?zm:Um)}function Bm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ym(t){return function(n){t.call(this,n,this.__data__)}}function Hm(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Wm(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Vm(t,n,e){return function(){var r=this.__on,i,o=Ym(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Gm(t,n,e){var r=Hm(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=n?Vm:Wm,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function vl(t,n,e){var r=ml(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xm(t,n){return function(){return vl(this,t,n)}}function Zm(t,n){return function(){return vl(this,t,n.apply(this,arguments))}}function Km(t,n){return this.each((typeof n=="function"?Zm:Xm)(t,n))}function*jm(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var xl=[null];function It(t,n){this._groups=t,this._parents=n}function Or(){return new It([[document.documentElement]],xl)}function Qm(){return this}It.prototype=Or.prototype={constructor:It,select:$g,selectAll:Cg,selectChild:Ig,selectChildren:Fg,filter:Pg,data:Yg,enter:Og,exit:Wg,join:Vg,merge:Gg,selection:Qm,order:Xg,sort:Zg,call:jg,nodes:Qg,node:Jg,size:tm,empty:nm,each:em,attr:um,style:dm,property:bm,classed:vm,text:Tm,html:Em,raise:km,lower:Dm,append:Lm,insert:Fm,remove:Om,clone:qm,datum:Bm,on:Gm,dispatch:Km,[Symbol.iterator]:jm};function te(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],xl)}function Jm(t){let n;for(;n=t.sourceEvent;)t=n;return t}function t2(t,n){if(t=Jm(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Xe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ur(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function zn(){}var oe=.7,Le=1/oe,Ce="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n2=/^#([0-9a-f]{3,8})$/,e2=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),r2=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),i2=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Tr}\\)$`),o2=new RegExp(`^rgba\\(${on},${on},${on},${Tr}\\)$`),a2=new RegExp(`^hsl\\(${Tr},${on},${on}\\)$`),f2=new RegExp(`^hsla\\(${Tr},${on},${on},${Tr}\\)$`),Qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xe(zn,ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Jc,formatHex:Jc,formatHex8:c2,formatHsl:u2,formatRgb:tu,toString:tu});function Jc(){return this.rgb().formatHex()}function c2(){return this.rgb().formatHex8()}function u2(){return Ml(this).formatHsl()}function tu(){return this.rgb().formatRgb()}function ae(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=n2.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?nu(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?fi(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?fi(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=e2.exec(t))?new mt(n[1],n[2],n[3],1):(n=r2.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=i2.exec(t))?fi(n[1],n[2],n[3],n[4]):(n=o2.exec(t))?fi(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=a2.exec(t))?iu(n[1],n[2]/100,n[3]/100,1):(n=f2.exec(t))?iu(n[1],n[2]/100,n[3]/100,n[4]):Qc.hasOwnProperty(t)?nu(Qc[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function nu(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function fi(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function Of(t){return t instanceof zn||(t=ae(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Pn(t,n,e,r){return arguments.length===1?Of(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Xe(mt,Pn,Ur(zn,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(ne(this.r),ne(this.g),ne(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eu,formatHex:eu,formatHex8:s2,formatRgb:ru,toString:ru}));function eu(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function s2(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ru(){const t=Oi(this.opacity);return`${t===1?"rgb(":"rgba("}${ne(this.r)}, ${ne(this.g)}, ${ne(this.b)}${t===1?")":`, ${t})`}`}function Oi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qn(t){return t=ne(t),(t<16?"0":"")+t.toString(16)}function iu(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Wt(t,n,e,r)}function Ml(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);if(t instanceof zn||(t=ae(t)),!t)return new Wt;if(t instanceof Wt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Wt(a,f,c,t.opacity)}function Ua(t,n,e,r){return arguments.length===1?Ml(t):new Wt(t,n,e,r??1)}function Wt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Xe(Wt,Ua,Ur(zn,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(jo(t>=240?t-240:t+120,i,r),jo(t,i,r),jo(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wt(ou(this.h),ci(this.s),ci(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oi(this.opacity);return`${t===1?"hsl(":"hsla("}${ou(this.h)}, ${ci(this.s)*100}%, ${ci(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ou(t){return t=(t||0)%360,t<0?t+360:t}function ci(t){return Math.max(0,Math.min(1,t||0))}function jo(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const $l=Math.PI/180,Tl=180/Math.PI,Ui=18,Sl=.96422,Al=1,Cl=.82521,El=4/29,Ee=6/29,Nl=3*Ee*Ee,l2=Ee*Ee*Ee;function kl(t){if(t instanceof an)return new an(t.l,t.a,t.b,t.opacity);if(t instanceof wn)return Il(t);t instanceof mt||(t=Of(t));var n=na(t.r),e=na(t.g),r=na(t.b),i=Qo((.2225045*n+.7168786*e+.0606169*r)/Al),o,a;return n===e&&e===r?o=a=i:(o=Qo((.4360747*n+.3850649*e+.1430804*r)/Sl),a=Qo((.0139322*n+.0971045*e+.7141733*r)/Cl)),new an(116*i-16,500*(o-i),200*(i-a),t.opacity)}function za(t,n,e,r){return arguments.length===1?kl(t):new an(t,n,e,r??1)}function an(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Xe(an,za,Ur(zn,{brighter(t){return new an(this.l+Ui*(t??1),this.a,this.b,this.opacity)},darker(t){return new an(this.l-Ui*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Sl*Jo(n),t=Al*Jo(t),e=Cl*Jo(e),new mt(ta(3.1338561*n-1.6168667*t-.4906146*e),ta(-.9787684*n+1.9161415*t+.033454*e),ta(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Qo(t){return t>l2?Math.pow(t,1/3):t/Nl+El}function Jo(t){return t>Ee?t*t*t:Nl*(t-El)}function ta(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function na(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function h2(t){if(t instanceof wn)return new wn(t.h,t.c,t.l,t.opacity);if(t instanceof an||(t=kl(t)),t.a===0&&t.b===0)return new wn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Tl;return new wn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qa(t,n,e,r){return arguments.length===1?h2(t):new wn(t,n,e,r??1)}function wn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Il(t){if(isNaN(t.h))return new an(t.l,0,0,t.opacity);var n=t.h*$l;return new an(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Xe(wn,qa,Ur(zn,{brighter(t){return new wn(this.h,this.c,this.l+Ui*(t??1),this.opacity)},darker(t){return new wn(this.h,this.c,this.l-Ui*(t??1),this.opacity)},rgb(){return Il(this).rgb()}}));var Dl=-.14861,Uf=1.78277,zf=-.29227,xo=-.90649,Sr=1.97294,au=Sr*xo,fu=Sr*Uf,cu=Uf*zf-xo*Dl;function d2(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=Of(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(cu*r+au*n-fu*e)/(cu+au-fu),o=r-i,a=(Sr*(e-i)-zf*o)/xo,f=Math.sqrt(a*a+o*o)/(Sr*i*(1-i)),c=f?Math.atan2(a,o)*Tl-120:NaN;return new ee(c<0?c+360:c,f,i,t.opacity)}function cn(t,n,e,r){return arguments.length===1?d2(t):new ee(t,n,e,r??1)}function ee(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Xe(ee,cn,Ur(zn,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*$l,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(Dl*r+Uf*i)),255*(n+e*(zf*r+xo*i)),255*(n+e*(Sr*r)),this.opacity)}}));function p2(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function g2(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return p2((e-r/n)*n,a,i,o,f)}}const Mo=t=>()=>t;function Ll(t,n){return function(e){return t+e*n}}function m2(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function qf(t,n){var e=n-t;return e?Ll(t,e>180||e<-180?e-360*Math.round(e/360):e):Mo(isNaN(t)?n:t)}function b2(t){return(t=+t)==1?xt:function(n,e){return e-n?m2(n,e,t):Mo(isNaN(n)?e:n)}}function xt(t,n){var e=n-t;return e?Ll(t,e):Mo(isNaN(t)?n:t)}const fe=(function t(n){var e=b2(n);function r(i,o){var a=e((i=Pn(i)).r,(o=Pn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),s=xt(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r})(1);function y2(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Pn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var _2=y2(g2);function w2(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function v2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function x2(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=zr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function M2(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function $2(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=zr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Ba=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ea=new RegExp(Ba.source,"g");function T2(t){return function(){return t}}function S2(t){return function(n){return t(n)+""}}function Rl(t,n){var e=Ba.lastIndex=ea.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=Ba.exec(t))&&(i=ea.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:wt(r,i)})),e=ea.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?S2(c[0].x):T2(n):(n=c.length,function(s){for(var u=0,h;u<n;++u)f[(h=c[u]).i]=h.x(s);return f.join("")})}function zr(t,n){var e=typeof n,r;return n==null||e==="boolean"?Mo(n):(e==="number"?wt:e==="string"?(r=ae(n))?(n=r,fe):Rl:n instanceof ae?fe:n instanceof Date?M2:v2(n)?w2:Array.isArray(n)?x2:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?$2:wt)(t,n)}function Bf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var uu=180/Math.PI,Ya={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fl(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*uu,skewX:Math.atan(c)*uu,scaleX:a,scaleY:f}}var ui;function A2(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ya:Fl(n.a,n.b,n.c,n.d,n.e,n.f)}function C2(t){return t==null||(ui||(ui=document.createElementNS("http://www.w3.org/2000/svg","g")),ui.setAttribute("transform",t),!(t=ui.transform.baseVal.consolidate()))?Ya:(t=t.matrix,Fl(t.a,t.b,t.c,t.d,t.e,t.f))}function Pl(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(s,h)},{i:g-2,x:wt(u,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function a(s,u,h,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:wt(s,u)})):u&&h.push(i(h)+"rotate("+u+r)}function f(s,u,h,l){s!==u?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:wt(s,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(s,h)},{i:g-2,x:wt(u,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(s,u){var h=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,h,l),a(s.rotate,u.rotate,h,l),f(s.skewX,u.skewX,h,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,h,l),s=u=null,function(d){for(var p=-1,g=l.length,m;++p<g;)h[(m=l[p]).i]=m.x(d);return h.join("")}}}var E2=Pl(A2,"px, ","px)","deg)"),N2=Pl(C2,", ",")",")");function k2(t){return function(n,e){var r=t((n=Ua(n)).h,(e=Ua(e)).h),i=xt(n.s,e.s),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const I2=k2(qf);function D2(t,n){var e=xt((t=za(t)).l,(n=za(n)).l),r=xt(t.a,n.a),i=xt(t.b,n.b),o=xt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function L2(t){return function(n,e){var r=t((n=qa(n)).h,(e=qa(e)).h),i=xt(n.c,e.c),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const R2=L2(qf);function Ol(t){return(function n(e){e=+e;function r(i,o){var a=t((i=cn(i)).h,(o=cn(o)).h),f=xt(i.s,o.s),c=xt(i.l,o.l),s=xt(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r})(1)}Ol(qf);var Yf=Ol(xt);function $o(t,n){n===void 0&&(n=t,t=zr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function Gt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Re=0,ur=0,rr=0,Ul=1e3,zi,sr,qi=0,ce=0,To=0,Ar=typeof performance=="object"&&performance.now?performance:Date,zl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hf(){return ce||(zl(F2),ce=Ar.now()+To)}function F2(){ce=0}function Bi(){this._call=this._time=this._next=null}Bi.prototype=ql.prototype={constructor:Bi,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Hf():+e)+(n==null?0:+n),!this._next&&sr!==this&&(sr?sr._next=this:zi=this,sr=this),this._call=t,this._time=e,Ha()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ha())}};function ql(t,n,e){var r=new Bi;return r.restart(t,n,e),r}function P2(){Hf(),++Re;for(var t=zi,n;t;)(n=ce-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Re}function su(){ce=(qi=Ar.now())+To,Re=ur=0;try{P2()}finally{Re=0,U2(),ce=0}}function O2(){var t=Ar.now(),n=t-qi;n>Ul&&(To-=n,qi=t)}function U2(){for(var t,n=zi,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:zi=e);sr=t,Ha(r)}function Ha(t){if(!Re){ur&&(ur=clearTimeout(ur));var n=t-ce;n>24?(t<1/0&&(ur=setTimeout(su,t-Ar.now()-To)),rr&&(rr=clearInterval(rr))):(rr||(qi=Ar.now(),rr=setInterval(O2,Ul)),Re=1,zl(su))}}function lu(t,n,e){var r=new Bi;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var z2=ll("start","end","cancel","interrupt"),q2=[],Bl=0,hu=1,Wa=2,Ci=3,du=4,Va=5,Ei=6;function So(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;B2(t,e,{name:n,index:r,group:i,on:z2,tween:q2,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Bl})}function Wf(t,n){var e=Kt(t,n);if(e.state>Bl)throw new Error("too late; already scheduled");return e}function sn(t,n){var e=Kt(t,n);if(e.state>Ci)throw new Error("too late; already running");return e}function Kt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function B2(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ql(o,0,e.time);function o(s){e.state=hu,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,h,l,d;if(e.state!==hu)return c();for(u in r)if(d=r[u],d.name===e.name){if(d.state===Ci)return lu(a);d.state===du?(d.state=Ei,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<n&&(d.state=Ei,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(lu(function(){e.state===Ci&&(e.state=du,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=Wa,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Wa){for(e.state=Ci,i=new Array(l=e.tween.length),u=0,h=-1;u<l;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=Va,1),h=-1,l=i.length;++h<l;)i[h].call(t,u);e.state===Va&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=Ei,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function Y2(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Wa&&r.state<Va,r.state=Ei,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function H2(t){return this.each(function(){Y2(this,t)})}function W2(t,n){var e,r;return function(){var i=sn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function V2(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=sn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function G2(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Kt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?W2:V2)(e,t,n))}function Vf(t,n,e){var r=t._id;return t.each(function(){var i=sn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Kt(i,r).value[n]}}function Yl(t,n){var e;return(typeof n=="number"?wt:n instanceof ae?fe:(e=ae(n))?(n=e,fe):Rl)(t,n)}function X2(t){return function(){this.removeAttribute(t)}}function Z2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function K2(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function j2(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Q2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function J2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function tb(t,n){var e=wo(t),r=e==="transform"?N2:Yl;return this.attrTween(t,typeof n=="function"?(e.local?J2:Q2)(e,r,Vf(this,"attr."+t,n)):n==null?(e.local?Z2:X2)(e):(e.local?j2:K2)(e,r,n))}function nb(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function eb(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function rb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&eb(t,o)),e}return i._value=n,i}function ib(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&nb(t,o)),e}return i._value=n,i}function ob(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=wo(t);return this.tween(e,(r.local?rb:ib)(r,n))}function ab(t,n){return function(){Wf(this,t).delay=+n.apply(this,arguments)}}function fb(t,n){return n=+n,function(){Wf(this,t).delay=n}}function cb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ab:fb)(n,t)):Kt(this.node(),n).delay}function ub(t,n){return function(){sn(this,t).duration=+n.apply(this,arguments)}}function sb(t,n){return n=+n,function(){sn(this,t).duration=n}}function lb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ub:sb)(n,t)):Kt(this.node(),n).duration}function hb(t,n){if(typeof n!="function")throw new Error;return function(){sn(this,t).ease=n}}function db(t){var n=this._id;return arguments.length?this.each(hb(n,t)):Kt(this.node(),n).ease}function pb(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;sn(this,t).ease=e}}function gb(t){if(typeof t!="function")throw new Error;return this.each(pb(this._id,t))}function mb(t){typeof t!="function"&&(t=dl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Tn(r,this._parents,this._name,this._id)}function bb(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],s=e[f],u=c.length,h=a[f]=new Array(u),l,d=0;d<u;++d)(l=c[d]||s[d])&&(h[d]=l);for(;f<r;++f)a[f]=n[f];return new Tn(a,this._parents,this._name,this._id)}function yb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function _b(t,n,e){var r,i,o=yb(n)?Wf:sn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function wb(t,n){var e=this._id;return arguments.length<2?Kt(this.node(),e).on.on(t):this.each(_b(e,t,n))}function vb(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function xb(){return this.on("end.remove",vb(this._id))}function Mb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ff(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,h,l=0;l<c;++l)(u=f[l])&&(h=t.call(u,u.__data__,l,f))&&("__data__"in u&&(h.__data__=u.__data__),s[l]=h,So(s[l],n,e,l,s,Kt(u,e)));return new Tn(o,this._parents,n,e)}function $b(t){var n=this._name,e=this._id;typeof t!="function"&&(t=hl(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,h=0;h<s;++h)if(u=c[h]){for(var l=t.call(u,u.__data__,h,c),d,p=Kt(u,e),g=0,m=l.length;g<m;++g)(d=l[g])&&So(d,n,e,g,l,p);o.push(l),a.push(u)}return new Tn(o,a,n,e)}var Tb=Or.prototype.constructor;function Sb(){return new Tb(this._groups,this._parents)}function Ab(t,n){var e,r,i;return function(){var o=De(this,t),a=(this.style.removeProperty(t),De(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Hl(t){return function(){this.style.removeProperty(t)}}function Cb(t,n,e){var r,i=e+"",o;return function(){var a=De(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function Eb(t,n,e){var r,i,o;return function(){var a=De(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),De(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function Nb(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=sn(this,t),s=c.on,u=c.value[o]==null?f||(f=Hl(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(a,i=u),c.on=r}}function kb(t,n,e){var r=(t+="")=="transform"?E2:Yl;return n==null?this.styleTween(t,Ab(t,r)).on("end.style."+t,Hl(t)):typeof n=="function"?this.styleTween(t,Eb(t,r,Vf(this,"style."+t,n))).each(Nb(this._id,t)):this.styleTween(t,Cb(t,r,n),e).on("end.style."+t,null)}function Ib(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Db(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Ib(t,a,e)),r}return o._value=n,o}function Lb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Db(t,n,e??""))}function Rb(t){return function(){this.textContent=t}}function Fb(t){return function(){var n=t(this);this.textContent=n??""}}function Pb(t){return this.tween("text",typeof t=="function"?Fb(Vf(this,"text",t)):Rb(t==null?"":t+""))}function Ob(t){return function(n){this.textContent=t.call(this,n)}}function Ub(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Ob(i)),n}return r._value=t,r}function zb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ub(t))}function qb(){for(var t=this._name,n=this._id,e=Wl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=Kt(c,n);So(c,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Tn(r,this._parents,t,e)}function Bb(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=sn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&o()})}var Yb=0;function Tn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Wl(){return++Yb}var dn=Or.prototype;Tn.prototype={constructor:Tn,select:Mb,selectAll:$b,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:mb,merge:bb,selection:Sb,transition:qb,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:wb,attr:tb,attrTween:ob,style:kb,styleTween:Lb,text:Pb,textTween:zb,remove:xb,tween:G2,delay:cb,duration:lb,ease:db,easeVarying:gb,end:Bb,[Symbol.iterator]:dn[Symbol.iterator]};function Hb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wb={time:null,delay:0,duration:250,ease:Hb};function Vb(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Gb(t){var n,e;t instanceof Tn?(n=t._id,t=t._name):(n=Wl(),(e=Wb).time=Hf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&So(c,t,n,s,a,e||Vb(c,n));return new Tn(r,this._parents,t,n)}Or.prototype.interrupt=H2;Or.prototype.transition=Gb;const Ga=Math.PI,Xa=2*Ga,Kn=1e-6,Xb=Xa-Kn;function Vl(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Zb(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Vl;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Gl{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Vl:Zb(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,s=i-e,u=a-n,h=f-e,l=u*u+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>Kn)if(!(Math.abs(h*c-s*u)>Kn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-f,g=c*c+s*s,m=d*d+p*p,_=Math.sqrt(g),b=Math.sqrt(l),v=o*Math.tan((Ga-Math.acos((g+l-m)/(2*_*b)))/2),y=v/b,M=v/_;Math.abs(y-1)>Kn&&this._append`L${n+y*u},${e+y*h}`,this._append`A${o},${o},0,0,${+(h*d>u*p)},${this._x1=n+M*c},${this._y1=e+M*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>Kn||Math.abs(this._y1-u)>Kn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%Xa+Xa),l>Xb?this._append`A${r},${r},0,1,${h},${n-f},${e-c}A${r},${r},0,1,${h},${this._x1=s},${this._y1=u}`:l>Kn&&this._append`A${r},${r},0,${+(l>=Ga)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Jn(t=3){return new Gl(+t)}function Kb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yi(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Fe(t){return t=Yi(Math.abs(t)),t?t[1]:NaN}function jb(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Qb(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Jb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cr(t){if(!(n=Jb.exec(t)))throw new Error("invalid format: "+t);var n;return new Gf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Cr.prototype=Gf.prototype;function Gf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Gf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ty(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Xl;function ny(t,n){var e=Yi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Xl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yi(t,Math.max(0,n+o-1))[0]}function pu(t,n){var e=Yi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gu={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kb,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>pu(t*100,n),r:pu,s:ny,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mu(t){return t}var bu=Array.prototype.map,yu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ey(t){var n=t.grouping===void 0||t.thousands===void 0?mu:jb(bu.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?mu:Qb(bu.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(h){h=Cr(h);var l=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,_=h.width,b=h.comma,v=h.precision,y=h.trim,M=h.type;M==="n"?(b=!0,M="g"):gu[M]||(v===void 0&&(v=12),y=!0,M="g"),(m||l==="0"&&d==="=")&&(m=!0,l="0",d="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=g==="$"?r:/[%p]/.test(M)?a:"",T=gu[M],S=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N($){var D=w,F=x,L,A,O;if(M==="c")F=T($)+F,$="";else{$=+$;var V=$<0||1/$<0;if($=isNaN($)?c:T(Math.abs($),v),y&&($=ty($)),V&&+$==0&&p!=="+"&&(V=!1),D=(V?p==="("?p:f:p==="-"||p==="("?"":p)+D,F=(M==="s"?yu[8+Xl/3]:"")+F+(V&&p==="("?")":""),S){for(L=-1,A=$.length;++L<A;)if(O=$.charCodeAt(L),48>O||O>57){F=(O===46?i+$.slice(L+1):$.slice(L))+F,$=$.slice(0,L);break}}}b&&!m&&($=n($,1/0));var Y=D.length+$.length+F.length,W=Y<_?new Array(_-Y+1).join(l):"";switch(b&&m&&($=n(W+$,W.length?_-F.length:1/0),W=""),d){case"<":$=D+$+F+W;break;case"=":$=D+W+$+F;break;case"^":$=W.slice(0,Y=W.length>>1)+D+$+F+W.slice(Y);break;default:$=W+D+$+F;break}return o($)}return N.toString=function(){return h+""},N}function u(h,l){var d=s((h=Cr(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Fe(l)/3)))*3,g=Math.pow(10,-p),m=yu[8+p/3];return function(_){return d(g*_)+m}}return{format:s,formatPrefix:u}}var si,Ze,Zl;ry({thousands:",",grouping:[3],currency:["$",""]});function ry(t){return si=ey(t),Ze=si.format,Zl=si.formatPrefix,si}function iy(t){return Math.max(0,-Fe(Math.abs(t)))}function oy(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fe(n)/3)))*3-Fe(Math.abs(t)))}function ay(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Fe(n)-Fe(t))+1}var Q=1e-6,Kl=1e-12,tt=Math.PI,st=tt/2,_u=tt/4,Dt=tt*2,Tt=180/tt,ut=tt/180,at=Math.abs,Ke=Math.atan,Sn=Math.atan2,J=Math.cos,jl=Math.exp,Hi=Math.log,ra=Math.pow,X=Math.sin,Ut=Math.sign||function(t){return t>0?1:t<0?-1:0},Et=Math.sqrt,Xf=Math.tan;function Ql(t){return t>1?0:t<-1?tt:Math.acos(t)}function Yt(t){return t>1?st:t<-1?-st:Math.asin(t)}function zt(){}function Wi(t,n){t&&vu.hasOwnProperty(t.type)&&vu[t.type](t,n)}var wu={Feature:function(t,n){Wi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Wi(e[r].geometry,n)}},vu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Za(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Za(e[r],n,0)},Polygon:function(t,n){xu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)xu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Wi(e[r],n)}};function Za(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function xu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Za(t[e],n,1);n.polygonEnd()}function jn(t,n){t&&wu.hasOwnProperty(t.type)?wu[t.type](t,n):Wi(t,n)}function Ka(t){return[Sn(t[1],t[0]),Yt(t[2])]}function Pe(t){var n=t[0],e=t[1],r=J(e);return[r*J(n),r*X(n),X(e)]}function li(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Vi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ia(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ja(t){var n=Et(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Qa(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Ja(t,n){return at(t)>tt&&(t-=Math.round(t/Dt)*Dt),[t,n]}Ja.invert=Ja;function Jl(t,n,e){return(t%=Dt)?n||e?Qa($u(t),Tu(n,e)):$u(t):n||e?Tu(n,e):Ja}function Mu(t){return function(n,e){return n+=t,at(n)>tt&&(n-=Math.round(n/Dt)*Dt),[n,e]}}function $u(t){var n=Mu(t);return n.invert=Mu(-t),n}function Tu(t,n){var e=J(t),r=X(t),i=J(n),o=X(n);function a(f,c){var s=J(c),u=J(f)*s,h=X(f)*s,l=X(c),d=l*e+u*r;return[Sn(h*i-d*o,u*e-l*r),Yt(d*i+h*o)]}return a.invert=function(f,c){var s=J(c),u=J(f)*s,h=X(f)*s,l=X(c),d=l*i-h*o;return[Sn(h*i+l*o,u*e+d*r),Yt(d*e-u*r)]},a}function fy(t){t=Jl(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=Tt,e[1]*=Tt,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=Tt,e[1]*=Tt,e},n}function cy(t,n,e,r,i,o){if(e){var a=J(n),f=X(n),c=r*e;i==null?(i=n+r*Dt,o=n-c/2):(i=Su(a,i),o=Su(a,o),(r>0?i<o:i>o)&&(i+=r*Dt));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Ka([a,-f*J(u),-f*X(u)]),t.point(s[0],s[1])}}function Su(t,n){n=Pe(n),n[0]-=t,ja(n);var e=Ql(-n[1]);return((-n[2]<0?-e:e)+Dt-Q)%Dt}function th(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:zt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Ni(t,n){return at(t[0]-n[0])<Q&&at(t[1]-n[1])<Q}function di(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function nh(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],_=p[g],b;if(Ni(m,_)){if(!m[2]&&!_[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}_[0]+=2*Q}o.push(b=new di(m,p,null,!0)),a.push(b.o=new di(m,null,b,!1)),o.push(b=new di(_,p,null,!1)),a.push(b.o=new di(_,null,b,!0))}}),!!o.length){for(a.sort(n),Au(o),Au(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var s=o[0],u,h;;){for(var l=s,d=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,c=u.length;f<c;++f)i.point((h=u[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((h=u[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Au(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function oa(t){return at(t[0])<=tt?t[0]:Ut(t[0])*((at(t[0])+tt)%Dt-tt)}function uy(t,n){var e=oa(n),r=n[1],i=X(r),o=[X(e),-J(e),0],a=0,f=0,c=new ie;i===1?r=st+Q:i===-1&&(r=-st-Q);for(var s=0,u=t.length;s<u;++s)if(l=(h=t[s]).length)for(var h,l,d=h[l-1],p=oa(d),g=d[1]/2+_u,m=X(g),_=J(g),b=0;b<l;++b,p=y,m=w,_=x,d=v){var v=h[b],y=oa(v),M=v[1]/2+_u,w=X(M),x=J(M),T=y-p,S=T>=0?1:-1,N=S*T,$=N>tt,D=m*w;if(c.add(Sn(D*S*X(N),_*x+D*J(N))),a+=$?T+S*Dt:T,$^p>=e^y>=e){var F=Vi(Pe(d),Pe(v));ja(F);var L=Vi(o,F);ja(L);var A=($^T>=0?-1:1)*Yt(L[2]);(r>A||r===A&&(F[0]||F[1]))&&(f+=$^T>=0?1:-1)}}return(a<-Q||a<Q&&c<-Kl)^f&1}function eh(t,n,e,r){return function(i){var o=n(i),a=th(),f=n(a),c=!1,s,u,h,l={point:d,lineStart:g,lineEnd:m,polygonStart:function(){l.point=_,l.lineStart=b,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=d,l.lineStart=g,l.lineEnd=m,u=sl(u);var y=uy(s,r);u.length?(c||(i.polygonStart(),c=!0),nh(u,ly,y,e,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,M){t(y,M)&&i.point(y,M)}function p(y,M){o.point(y,M)}function g(){l.point=p,o.lineStart()}function m(){l.point=d,o.lineEnd()}function _(y,M){h.push([y,M]),f.point(y,M)}function b(){f.lineStart(),h=[]}function v(){_(h[0][0],h[0][1]),f.lineEnd();var y=f.clean(),M=a.result(),w,x=M.length,T,S,N;if(h.pop(),s.push(h),h=null,!!x){if(y&1){if(S=M[0],(T=S.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<T;++w)i.point((N=S[w])[0],N[1]);i.lineEnd()}return}x>1&&y&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(sy))}}return l}}function sy(t){return t.length>1}function ly(t,n){return((t=t.x)[0]<0?t[1]-st-Q:st-t[1])-((n=n.x)[0]<0?n[1]-st-Q:st-n[1])}const Cu=eh(function(){return!0},hy,py,[-tt,-st]);function hy(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?tt:-tt,c=at(o-n);at(c-tt)<Q?(t.point(n,e=(e+a)/2>0?st:-st),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=tt&&(at(n-r)<Q&&(n-=r*Q),at(o-f)<Q&&(o-=f*Q),e=dy(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function dy(t,n,e,r){var i,o,a=X(t-e);return at(a)>Q?Ke((X(n)*(o=J(r))*X(e)-X(r)*(i=J(n))*X(t))/(i*o*a)):(n+r)/2}function py(t,n,e,r){var i;if(t==null)i=e*st,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(at(t[0]-n[0])>Q){var o=t[0]<n[0]?tt:-tt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function gy(t){var n=J(t),e=2*ut,r=n>0,i=at(n)>Q;function o(u,h,l,d){cy(d,t,e,l,u,h)}function a(u,h){return J(u)*J(h)>n}function f(u){var h,l,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,_){var b=[m,_],v,y=a(m,_),M=r?y?0:s(m,_):y?s(m+(m<0?tt:-tt),_):0;if(!h&&(p=d=y)&&u.lineStart(),y!==d&&(v=c(h,b),(!v||Ni(h,v)||Ni(b,v))&&(b[2]=1)),y!==d)g=0,y?(u.lineStart(),v=c(b,h),u.point(v[0],v[1])):(v=c(h,b),u.point(v[0],v[1],2),u.lineEnd()),h=v;else if(i&&h&&r^y){var w;!(M&l)&&(w=c(b,h,!0))&&(g=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}y&&(!h||!Ni(h,b))&&u.point(b[0],b[1]),h=b,d=y,l=M},lineEnd:function(){d&&u.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function c(u,h,l){var d=Pe(u),p=Pe(h),g=[1,0,0],m=Vi(d,p),_=li(m,m),b=m[0],v=_-b*b;if(!v)return!l&&u;var y=n*_/v,M=-n*b/v,w=Vi(g,m),x=hi(g,y),T=hi(m,M);ia(x,T);var S=w,N=li(x,S),$=li(S,S),D=N*N-$*(li(x,x)-1);if(!(D<0)){var F=Et(D),L=hi(S,(-N-F)/$);if(ia(L,x),L=Ka(L),!l)return L;var A=u[0],O=h[0],V=u[1],Y=h[1],W;O<A&&(W=A,A=O,O=W);var k=O-A,P=at(k-tt)<Q,z=P||k<Q;if(!P&&Y<V&&(W=V,V=Y,Y=W),z?P?V+Y>0^L[1]<(at(L[0]-A)<Q?V:Y):V<=L[1]&&L[1]<=Y:k>tt^(A<=L[0]&&L[0]<=O)){var I=hi(S,(-N+F)/$);return ia(I,x),[L,Ka(I)]}}}function s(u,h){var l=r?t:tt-t,d=0;return u<-l?d|=1:u>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return eh(a,f,o,r?[0,-t]:[-tt,t-tt])}function my(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],s=n[1],u=0,h=1,l=c-a,d=s-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>u&&(u=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<h&&(h=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*d),h<1&&(n[0]=a+h*l,n[1]=f+h*d),!0}}}}}var lr=1e9,pi=-lr;function rh(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function o(s,u,h,l){var d=0,p=0;if(s==null||(d=a(s,h))!==(p=a(u,h))||c(s,u)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return at(s[0]-t)<Q?u>0?0:3:at(s[0]-e)<Q?u>0?2:1:at(s[1]-n)<Q?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var h=a(s,1),l=a(u,1);return h!==l?h-l:h===0?u[1]-s[1]:h===1?s[0]-u[0]:h===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,h=th(),l,d,p,g,m,_,b,v,y,M,w,x={point:T,lineStart:D,lineEnd:F,polygonStart:N,polygonEnd:$};function T(A,O){i(A,O)&&u.point(A,O)}function S(){for(var A=0,O=0,V=d.length;O<V;++O)for(var Y=d[O],W=1,k=Y.length,P=Y[0],z,I,G=P[0],nt=P[1];W<k;++W)z=G,I=nt,P=Y[W],G=P[0],nt=P[1],I<=r?nt>r&&(G-z)*(r-I)>(nt-I)*(t-z)&&++A:nt<=r&&(G-z)*(r-I)<(nt-I)*(t-z)&&--A;return A}function N(){u=h,l=[],d=[],w=!0}function $(){var A=S(),O=w&&A,V=(l=sl(l)).length;(O||V)&&(s.polygonStart(),O&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),V&&nh(l,f,A,o,s),s.polygonEnd()),u=s,l=d=p=null}function D(){x.point=L,d&&d.push(p=[]),M=!0,y=!1,b=v=NaN}function F(){l&&(L(g,m),_&&y&&h.rejoin(),l.push(h.result())),x.point=T,y&&u.lineEnd()}function L(A,O){var V=i(A,O);if(d&&p.push([A,O]),M)g=A,m=O,_=V,M=!1,V&&(u.lineStart(),u.point(A,O));else if(V&&y)u.point(A,O);else{var Y=[b=Math.max(pi,Math.min(lr,b)),v=Math.max(pi,Math.min(lr,v))],W=[A=Math.max(pi,Math.min(lr,A)),O=Math.max(pi,Math.min(lr,O))];my(Y,W,t,n,e,r)?(y||(u.lineStart(),u.point(Y[0],Y[1])),u.point(W[0],W[1]),V||u.lineEnd(),w=!1):V&&(u.lineStart(),u.point(A,O),w=!1)}b=A,v=O,y=V}return x}}const tf=t=>t;var aa=new ie,nf=new ie,ih,oh,ef,rf,_n={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){_n.lineStart=by,_n.lineEnd=_y},polygonEnd:function(){_n.lineStart=_n.lineEnd=_n.point=zt,aa.add(at(nf)),nf=new ie},result:function(){var t=aa/2;return aa=new ie,t}};function by(){_n.point=yy}function yy(t,n){_n.point=ah,ih=ef=t,oh=rf=n}function ah(t,n){nf.add(rf*t-ef*n),ef=t,rf=n}function _y(){ah(ih,oh)}var Oe=1/0,Gi=Oe,Er=-Oe,Xi=Er,Zi={point:wy,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var t=[[Oe,Gi],[Er,Xi]];return Er=Xi=-(Gi=Oe=1/0),t}};function wy(t,n){t<Oe&&(Oe=t),t>Er&&(Er=t),n<Gi&&(Gi=n),n>Xi&&(Xi=n)}var of=0,af=0,hr=0,Ki=0,ji=0,Te=0,ff=0,cf=0,dr=0,fh,ch,nn,en,Pt={point:ue,lineStart:Eu,lineEnd:Nu,polygonStart:function(){Pt.lineStart=My,Pt.lineEnd=$y},polygonEnd:function(){Pt.point=ue,Pt.lineStart=Eu,Pt.lineEnd=Nu},result:function(){var t=dr?[ff/dr,cf/dr]:Te?[Ki/Te,ji/Te]:hr?[of/hr,af/hr]:[NaN,NaN];return of=af=hr=Ki=ji=Te=ff=cf=dr=0,t}};function ue(t,n){of+=t,af+=n,++hr}function Eu(){Pt.point=vy}function vy(t,n){Pt.point=xy,ue(nn=t,en=n)}function xy(t,n){var e=t-nn,r=n-en,i=Et(e*e+r*r);Ki+=i*(nn+t)/2,ji+=i*(en+n)/2,Te+=i,ue(nn=t,en=n)}function Nu(){Pt.point=ue}function My(){Pt.point=Ty}function $y(){uh(fh,ch)}function Ty(t,n){Pt.point=uh,ue(fh=nn=t,ch=en=n)}function uh(t,n){var e=t-nn,r=n-en,i=Et(e*e+r*r);Ki+=i*(nn+t)/2,ji+=i*(en+n)/2,Te+=i,i=en*t-nn*n,ff+=i*(nn+t),cf+=i*(en+n),dr+=i*3,ue(nn=t,en=n)}function sh(t){this._context=t}sh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Dt);break}}},result:zt};var uf=new ie,fa,lh,hh,pr,gr,Nr={point:zt,lineStart:function(){Nr.point=Sy},lineEnd:function(){fa&&dh(lh,hh),Nr.point=zt},polygonStart:function(){fa=!0},polygonEnd:function(){fa=null},result:function(){var t=+uf;return uf=new ie,t}};function Sy(t,n){Nr.point=dh,lh=pr=t,hh=gr=n}function dh(t,n){pr-=t,gr-=n,uf.add(Et(pr*pr+gr*gr)),pr=t,gr=n}let ku,Qi,Iu,Du;class Lu{constructor(n){this._append=n==null?ph:Ay(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Iu||this._append!==Qi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Iu=r,Qi=this._append,Du=this._,this._=i}this._+=Du;break}}}result(){const n=this._;return this._="",n.length?n:null}}function ph(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ay(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return ph;if(n!==ku){const e=10**n;ku=n,Qi=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Qi}function Zf(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),jn(f,i(o))),o.result()}return a.area=function(f){return jn(f,i(_n)),_n.result()},a.measure=function(f){return jn(f,i(Nr)),Nr.result()},a.bounds=function(f){return jn(f,i(Zi)),Zi.result()},a.centroid=function(f){return jn(f,i(Pt)),Pt.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,tf):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new Lu(e)):new sh(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new Lu(e)),a},a.projection(t).digits(e).context(n)}function Ji(t){return{stream:Ao(t)}}function Ao(t){return function(n){var e=new sf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function sf(){}sf.prototype={constructor:sf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Kf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),jn(e,t.stream(Zi)),n(Zi.result()),r!=null&&t.clipExtent(r),t}function jf(t,n,e){return Kf(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function gh(t,n,e){return jf(t,[[0,0],n],e)}function mh(t,n,e){return Kf(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function bh(t,n,e){return Kf(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var Ru=16,Cy=J(30*ut);function Fu(t,n){return+n?Ny(t,n):Ey(t)}function Ey(t){return Ao({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Ny(t,n){function e(r,i,o,a,f,c,s,u,h,l,d,p,g,m){var _=s-r,b=u-i,v=_*_+b*b;if(v>4*n&&g--){var y=a+l,M=f+d,w=c+p,x=Et(y*y+M*M+w*w),T=Yt(w/=x),S=at(at(w)-1)<Q||at(o-h)<Q?(o+h)/2:Sn(M,y),N=t(S,T),$=N[0],D=N[1],F=$-r,L=D-i,A=b*F-_*L;(A*A/v>n||at((_*F+b*L)/v-.5)>.3||a*l+f*d+c*p<Cy)&&(e(r,i,o,a,f,c,$,D,S,y/=x,M/=x,w,g,m),m.point($,D),e($,D,S,y,M,w,s,u,h,l,d,p,g,m))}}return function(r){var i,o,a,f,c,s,u,h,l,d,p,g,m={point:_,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=M},polygonEnd:function(){r.polygonEnd(),m.lineStart=b}};function _(T,S){T=t(T,S),r.point(T[0],T[1])}function b(){h=NaN,m.point=v,r.lineStart()}function v(T,S){var N=Pe([T,S]),$=t(T,S);e(h,l,u,d,p,g,h=$[0],l=$[1],u=T,d=N[0],p=N[1],g=N[2],Ru,r),r.point(h,l)}function y(){m.point=_,r.lineEnd()}function M(){b(),m.point=w,m.lineEnd=x}function w(T,S){v(i=T,S),o=h,a=l,f=d,c=p,s=g,m.point=v}function x(){e(h,l,u,d,p,g,o,a,i,f,c,s,Ru,r),m.lineEnd=y,y()}return m}}var ky=Ao({point:function(t,n){this.stream.point(t*ut,n*ut)}});function Iy(t){return Ao({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Dy(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function Pu(t,n,e,r,i,o){if(!o)return Dy(t,n,e,r,i);var a=J(o),f=X(o),c=a*t,s=f*t,u=a/t,h=f/t,l=(f*e-a*n)/t,d=(f*n+a*e)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+n,e-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-h*m+l),i*(d-h*g-u*m)]},p}function qn(t){return yh(function(){return t})()}function yh(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,h=0,l=1,d=1,p=null,g=Cu,m=null,_,b,v,y=tf,M=.5,w,x,T,S,N;function $(A){return T(A[0]*ut,A[1]*ut)}function D(A){return A=T.invert(A[0],A[1]),A&&[A[0]*Tt,A[1]*Tt]}$.stream=function(A){return S&&N===A?S:S=ky(Iy(u)(g(w(y(N=A)))))},$.preclip=function(A){return arguments.length?(g=A,p=void 0,L()):g},$.postclip=function(A){return arguments.length?(y=A,m=_=b=v=null,L()):y},$.clipAngle=function(A){return arguments.length?(g=+A?gy(p=A*ut):(p=null,Cu),L()):p*Tt},$.clipExtent=function(A){return arguments.length?(y=A==null?(m=_=b=v=null,tf):rh(m=+A[0][0],_=+A[0][1],b=+A[1][0],v=+A[1][1]),L()):m==null?null:[[m,_],[b,v]]},$.scale=function(A){return arguments.length?(e=+A,F()):e},$.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],F()):[r,i]},$.center=function(A){return arguments.length?(o=A[0]%360*ut,a=A[1]%360*ut,F()):[o*Tt,a*Tt]},$.rotate=function(A){return arguments.length?(f=A[0]%360*ut,c=A[1]%360*ut,s=A.length>2?A[2]%360*ut:0,F()):[f*Tt,c*Tt,s*Tt]},$.angle=function(A){return arguments.length?(h=A%360*ut,F()):h*Tt},$.reflectX=function(A){return arguments.length?(l=A?-1:1,F()):l<0},$.reflectY=function(A){return arguments.length?(d=A?-1:1,F()):d<0},$.precision=function(A){return arguments.length?(w=Fu(x,M=A*A),L()):Et(M)},$.fitExtent=function(A,O){return jf($,A,O)},$.fitSize=function(A,O){return gh($,A,O)},$.fitWidth=function(A,O){return mh($,A,O)},$.fitHeight=function(A,O){return bh($,A,O)};function F(){var A=Pu(e,0,0,l,d,h).apply(null,n(o,a)),O=Pu(e,r-A[0],i-A[1],l,d,h);return u=Jl(f,c,s),x=Qa(n,O),T=Qa(u,x),w=Fu(x,M),L()}function L(){return S=N=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&D,F()}}function Qf(t){var n=0,e=tt/3,r=yh(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ut,e=o[1]*ut):[n*Tt,e*Tt]},i}function Ly(t){var n=J(t);function e(r,i){return[r*n,X(i)/n]}return e.invert=function(r,i){return[r/n,Yt(i*n)]},e}function Ry(t,n){var e=X(t),r=(e+X(n))/2;if(at(r)<Q)return Ly(t);var i=1+e*(2*r-e),o=Et(i)/r;function a(f,c){var s=Et(i-2*r*X(c))/r;return[s*X(f*=r),o-s*J(f)]}return a.invert=function(f,c){var s=o-c,u=Sn(f,at(s))*Ut(s);return s*r<0&&(u-=tt*Ut(f)*Ut(s)),[u/r,Yt((i-(f*f+s*s)*r*r)/(2*r))]},a}function to(){return Qf(Ry).scale(155.424).center([0,33.6442])}function _h(){return to().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Fy(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Py(){var t,n,e=_h(),r,i=to().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=to().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,d){c=[l,d]}};function u(l){var d=l[0],p=l[1];return c=null,r.point(d,p),c||(o.point(d,p),c)||(f.point(d,p),c)}u.invert=function(l){var d=e.scale(),p=e.translate(),g=(l[0]-p[0])/d,m=(l[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=Fy([e.stream(n=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),h()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(s),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+Q,g+.12*d+Q],[p-.214*d-Q,g+.234*d-Q]]).stream(s),f=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+Q,g+.166*d+Q],[p-.115*d-Q,g+.234*d-Q]]).stream(s),h()},u.fitExtent=function(l,d){return jf(u,l,d)},u.fitSize=function(l,d){return gh(u,l,d)},u.fitWidth=function(l,d){return mh(u,l,d)},u.fitHeight=function(l,d){return bh(u,l,d)};function h(){return t=n=null,u}return u.scale(1070)}function wh(t){return function(n,e){var r=J(n),i=J(e),o=t(r*i);return o===1/0?[2,0]:[o*i*X(n),o*X(e)]}}function qr(t){return function(n,e){var r=Et(n*n+e*e),i=t(r),o=X(i),a=J(i);return[Sn(n*o,r*a),Yt(r&&e*o/r)]}}var vh=wh(function(t){return Et(2/(1+t))});vh.invert=qr(function(t){return 2*Yt(t/2)});function Oy(){return qn(vh).scale(124.75).clipAngle(180-.001)}var xh=wh(function(t){return(t=Ql(t))&&t/X(t)});xh.invert=qr(function(t){return t});function Uy(){return qn(xh).scale(79.4188).clipAngle(180-.001)}function Co(t,n){return[t,Hi(Xf((st+n)/2))]}Co.invert=function(t,n){return[t,2*Ke(jl(n))-st]};function zy(){return Mh(Co).scale(961/Dt)}function Mh(t){var n=qn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,s;n.scale=function(h){return arguments.length?(r(h),u()):r()},n.translate=function(h){return arguments.length?(i(h),u()):i()},n.center=function(h){return arguments.length?(e(h),u()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=f=c=s=null:(a=+h[0][0],f=+h[0][1],c=+h[1][0],s=+h[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var h=tt*r(),l=n(fy(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===Co?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,c),s]]:[[a,Math.max(l[1]-h,f)],[c,Math.min(l[1]+h,s)]])}return u()}function gi(t){return Xf((st+t)/2)}function qy(t,n){var e=J(t),r=t===n?X(t):Hi(e/J(n))/Hi(gi(n)/gi(t)),i=e*ra(gi(t),r)/r;if(!r)return Co;function o(a,f){i>0?f<-st+Q&&(f=-st+Q):f>st-Q&&(f=st-Q);var c=i/ra(gi(f),r);return[c*X(r*a),i-c*J(r*a)]}return o.invert=function(a,f){var c=i-f,s=Ut(r)*Et(a*a+c*c),u=Sn(a,at(c))*Ut(c);return c*r<0&&(u-=tt*Ut(a)*Ut(c)),[u/r,2*Ke(ra(i/s,1/r))-st]},o}function By(){return Qf(qy).scale(109.5).parallels([30,30])}function no(t,n){return[t,n]}no.invert=no;function Yy(){return qn(no).scale(152.63)}function Hy(t,n){var e=J(t),r=t===n?X(t):(e-J(n))/(n-t),i=e/r+t;if(at(r)<Q)return no;function o(a,f){var c=i-f,s=r*a;return[c*X(s),i-c*J(s)]}return o.invert=function(a,f){var c=i-f,s=Sn(a,at(c))*Ut(c);return c*r<0&&(s-=tt*Ut(a)*Ut(c)),[s/r,i-Ut(r)*Et(a*a+c*c)]},o}function Wy(){return Qf(Hy).scale(131.154).center([0,13.9389])}var yr=1.340264,_r=-.081106,wr=893e-6,vr=.003796,eo=Et(3)/2,Vy=12;function $h(t,n){var e=Yt(eo*X(n)),r=e*e,i=r*r*r;return[t*J(e)/(eo*(yr+3*_r*r+i*(7*wr+9*vr*r))),e*(yr+_r*r+i*(wr+vr*r))]}$h.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<Vy&&(f=e*(yr+_r*r+i*(wr+vr*r))-n,c=yr+3*_r*r+i*(7*wr+9*vr*r),e-=a=f/c,r=e*e,i=r*r*r,!(at(a)<Kl));++o);return[eo*t*(yr+3*_r*r+i*(7*wr+9*vr*r))/J(e),Yt(X(e)/eo)]};function Gy(){return qn($h).scale(177.158)}function Th(t,n){var e=J(n),r=J(t)*e;return[e*X(t)/r,X(n)/r]}Th.invert=qr(Ke);function Xy(){return qn(Th).scale(144.049).clipAngle(60)}function Sh(t,n){return[J(n)*X(t),X(n)]}Sh.invert=qr(Yt);function Zy(){return qn(Sh).scale(249.5).clipAngle(90+Q)}function Ah(t,n){var e=J(n),r=1+J(t)*e;return[e*X(t)/r,X(n)/r]}Ah.invert=qr(function(t){return 2*Ke(t)});function Ky(){return qn(Ah).scale(250).clipAngle(142)}function Ch(t,n){return[Hi(Xf((st+n)/2)),-t]}Ch.invert=function(t,n){return[-n,2*Ke(jl(t))-st]};function jy(){var t=Mh(Ch),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function ln(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Eo(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const lf=Symbol("implicit");function Jf(){var t=new xr,n=[],e=[],r=lf;function i(o){let a=t.get(o);if(a===void 0){if(r!==lf)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new xr;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jf(n,e).unknown(r)},ln.apply(i,arguments),i}function No(){var t=Jf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function h(){var l=n().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(g-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var m=Pa(l).map(function(_){return p+o*_});return e(d?m.reverse():m)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),h()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),h()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,h()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),h()):u},t.copy=function(){return No(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},ln.apply(h(),arguments)}function Eh(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Eh(n())},t}function Qy(){return Eh(No.apply(null,arguments).paddingInner(1))}function Jy(t){return function(){return t}}function hf(t){return+t}var Ou=[0,1];function qt(t){return t}function df(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Jy(isNaN(n)?NaN:.5)}function t6(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function n6(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=df(i,r),o=e(a,o)):(r=df(r,i),o=e(o,a)),function(f){return o(r(f))}}function e6(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=df(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=bo(t,f,1,r)-1;return o[c](i[c](f))}}function Br(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ko(){var t=Ou,n=Ou,e=zr,r,i,o,a=qt,f,c,s;function u(){var l=Math.min(t.length,n.length);return a!==qt&&(a=t6(t[0],t[l-1])),f=l>2?e6:n6,c=s=null,h}function h(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return h.invert=function(l){return a(i((s||(s=f(n,t.map(r),wt)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,hf),u()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=Bf,u()},h.clamp=function(l){return arguments.length?(a=l?!0:qt,u()):a!==qt},h.interpolate=function(l){return arguments.length?(e=l,u()):e},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,u()}}function Nh(){return ko()(qt,qt)}function r6(t,n,e,r){var i=Ra(t,n,e),o;switch(r=Cr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=oy(i,a))&&(r.precision=o),Zl(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ay(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=iy(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ze(r)}function Yr(t){var n=t.domain;return t.ticks=function(e){var r=n();return Mr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return r6(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=Ri(a,f,e),s===c)return r[i]=a,r[o]=f,n(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function tc(){var t=Nh();return t.copy=function(){return Br(t,tc())},ln.apply(t,arguments),Yr(t)}function kh(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,hf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return kh(t).unknown(n)},t=arguments.length?Array.from(t,hf):[0,1],Yr(e)}function Ih(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Uu(t){return Math.log(t)}function zu(t){return Math.exp(t)}function i6(t){return-Math.log(-t)}function o6(t){return-Math.exp(-t)}function a6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function f6(t){return t===10?a6:t===Math.E?Math.exp:n=>Math.pow(t,n)}function c6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function qu(t){return(n,e)=>-t(-n,e)}function Dh(t){const n=t(Uu,zu),e=n.domain;let r=10,i,o;function a(){return i=c6(r),o=f6(r),e()[0]<0?(i=qu(i),o=qu(o),t(i6,o6)):t(Uu,zu),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const h=u<s;h&&([s,u]=[u,s]);let l=i(s),d=i(u),p,g;const m=f==null?10:+f;let _=[];if(!(r%1)&&d-l<m){if(l=Math.floor(l),d=Math.ceil(d),s>0){for(;l<=d;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;_.push(g)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;_.push(g)}_.length*2<m&&(_=Mr(s,u,m))}else _=Mr(l,d,Math.min(d-l,m)).map(o);return h?_.reverse():_},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Cr(c)).precision==null&&(c.trim=!0),c=Ze(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=s?c(u):""}},n.nice=()=>e(Ih(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function Lh(){const t=Dh(ko()).domain([1,10]);return t.copy=()=>Br(t,Lh()).base(t.base()),ln.apply(t,arguments),t}function Bu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Yu(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Rh(t){var n=1,e=t(Bu(n),Yu(n));return e.constant=function(r){return arguments.length?t(Bu(n=+r),Yu(n)):n},Yr(e)}function Fh(){var t=Rh(ko());return t.copy=function(){return Br(t,Fh()).constant(t.constant())},ln.apply(t,arguments)}function Hu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function u6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function s6(t){return t<0?-t*t:t*t}function Ph(t){var n=t(qt,qt),e=1;function r(){return e===1?t(qt,qt):e===.5?t(u6,s6):t(Hu(e),Hu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Yr(n)}function Oh(){var t=Ph(ko());return t.copy=function(){return Br(t,Oh()).exponent(t.exponent())},ln.apply(t,arguments),t}function Uh(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=rg(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[bo(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Rn),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return Uh().domain(t).range(n).unknown(r)},ln.apply(o,arguments)}function zh(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[bo(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return zh().domain(t).range(n).unknown(e)},ln.apply(i,arguments)}const ca=new Date,ua=new Date;function dt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),n(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>dt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(ca.setTime(+o),ua.setTime(+a),t(ca),t(ua),Math.floor(e(ca,ua))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ro=dt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);ro.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):ro);ro.range;const vn=1e3,Bt=vn*60,xn=Bt*60,An=xn*24,nc=An*7,Wu=An*30,sa=An*365,Vt=dt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*vn)},(t,n)=>(n-t)/vn,t=>t.getUTCSeconds());Vt.range;const Hr=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vn)},(t,n)=>{t.setTime(+t+n*Bt)},(t,n)=>(n-t)/Bt,t=>t.getMinutes());Hr.range;const Wr=dt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Bt)},(t,n)=>(n-t)/Bt,t=>t.getUTCMinutes());Wr.range;const Vr=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vn-t.getMinutes()*Bt)},(t,n)=>{t.setTime(+t+n*xn)},(t,n)=>(n-t)/xn,t=>t.getHours());Vr.range;const Gr=dt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*xn)},(t,n)=>(n-t)/xn,t=>t.getUTCHours());Gr.range;const de=dt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bt)/An,t=>t.getDate()-1);de.range;const Io=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/An,t=>t.getUTCDate()-1);Io.range;const Do=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/An,t=>Math.floor(t/An));Do.range;function pe(t){return dt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Bt)/nc)}const Ue=pe(0),kr=pe(1),qh=pe(2),Bh=pe(3),se=pe(4),Yh=pe(5),Hh=pe(6);Ue.range;kr.range;qh.range;Bh.range;se.range;Yh.range;Hh.range;function ge(t){return dt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/nc)}const ze=ge(0),Ir=ge(1),Wh=ge(2),Vh=ge(3),le=ge(4),Gh=ge(5),Xh=ge(6);ze.range;Ir.range;Wh.range;Vh.range;le.range;Gh.range;Xh.range;const Xr=dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xr.range;const Zr=dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Zr.range;const Xt=dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Xt.range;const Zt=dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Zt.range;function Zh(t,n,e,r,i,o){const a=[[Vt,1,vn],[Vt,5,5*vn],[Vt,15,15*vn],[Vt,30,30*vn],[o,1,Bt],[o,5,5*Bt],[o,15,15*Bt],[o,30,30*Bt],[i,1,xn],[i,3,3*xn],[i,6,6*xn],[i,12,12*xn],[r,1,An],[r,2,2*An],[e,1,nc],[n,1,Wu],[n,3,3*Wu],[t,1,sa]];function f(s,u,h){const l=u<s;l&&([s,u]=[u,s]);const d=h&&typeof h.range=="function"?h:c(s,u,h),p=d?d.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,h){const l=Math.abs(u-s)/h,d=mo(([,,m])=>m).right(a,l);if(d===a.length)return t.every(Ra(s/sa,u/sa,h));if(d===0)return ro.every(Math.max(Ra(s,u,h),1));const[p,g]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(g)}return[f,c]}const[l6,Kh]=Zh(Zt,Zr,ze,Do,Gr,Wr),[h6,d6]=Zh(Xt,Xr,Ue,de,Vr,Hr);function la(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ha(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ir(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function p6(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=or(i),u=ar(i),h=or(o),l=ar(o),d=or(a),p=ar(a),g=or(f),m=ar(f),_=or(c),b=ar(c),v={a:V,A:Y,b:W,B:k,c:null,d:ju,e:ju,f:P6,g:G6,G:Z6,H:L6,I:R6,j:F6,L:jh,m:O6,M:U6,p:P,q:z,Q:ts,s:ns,S:z6,u:q6,U:B6,V:Y6,w:H6,W:W6,x:null,X:null,y:V6,Y:X6,Z:K6,"%":Ju},y={a:I,A:G,b:nt,B:K,c:null,d:Qu,e:Qu,f:t_,g:s_,G:h_,H:j6,I:Q6,j:J6,L:Jh,m:n_,M:e_,p:U,q,Q:ts,s:ns,S:r_,u:i_,U:o_,V:a_,w:f_,W:c_,x:null,X:null,y:u_,Y:l_,Z:d_,"%":Ju},M={a:N,A:$,b:D,B:F,c:L,d:Zu,e:Zu,f:N6,g:Xu,G:Gu,H:Ku,I:Ku,j:S6,L:E6,m:T6,M:A6,p:S,q:$6,Q:I6,s:D6,S:C6,u:_6,U:w6,V:v6,w:y6,W:x6,x:A,X:O,y:Xu,Y:Gu,Z:M6,"%":k6};v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),y.x=w(e,y),y.X=w(r,y),y.c=w(n,y);function w(E,R){return function(B){var C=[],et=-1,H=0,ot=E.length,ct,_t,Nn;for(B instanceof Date||(B=new Date(+B));++et<ot;)E.charCodeAt(et)===37&&(C.push(E.slice(H,et)),(_t=Vu[ct=E.charAt(++et)])!=null?ct=E.charAt(++et):_t=ct==="e"?" ":"0",(Nn=R[ct])&&(ct=Nn(B,_t)),C.push(ct),H=et+1);return C.push(E.slice(H,et)),C.join("")}}function x(E,R){return function(B){var C=ir(1900,void 0,1),et=T(C,E,B+="",0),H,ot;if(et!=B.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(R&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(H=ha(ir(C.y,0,1)),ot=H.getUTCDay(),H=ot>4||ot===0?Ir.ceil(H):Ir(H),H=Io.offset(H,(C.V-1)*7),C.y=H.getUTCFullYear(),C.m=H.getUTCMonth(),C.d=H.getUTCDate()+(C.w+6)%7):(H=la(ir(C.y,0,1)),ot=H.getDay(),H=ot>4||ot===0?kr.ceil(H):kr(H),H=de.offset(H,(C.V-1)*7),C.y=H.getFullYear(),C.m=H.getMonth(),C.d=H.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ot="Z"in C?ha(ir(C.y,0,1)).getUTCDay():la(ir(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ot+5)%7:C.w+C.U*7-(ot+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,ha(C)):la(C)}}function T(E,R,B,C){for(var et=0,H=R.length,ot=B.length,ct,_t;et<H;){if(C>=ot)return-1;if(ct=R.charCodeAt(et++),ct===37){if(ct=R.charAt(et++),_t=M[ct in Vu?R.charAt(et++):ct],!_t||(C=_t(E,B,C))<0)return-1}else if(ct!=B.charCodeAt(C++))return-1}return C}function S(E,R,B){var C=s.exec(R.slice(B));return C?(E.p=u.get(C[0].toLowerCase()),B+C[0].length):-1}function N(E,R,B){var C=d.exec(R.slice(B));return C?(E.w=p.get(C[0].toLowerCase()),B+C[0].length):-1}function $(E,R,B){var C=h.exec(R.slice(B));return C?(E.w=l.get(C[0].toLowerCase()),B+C[0].length):-1}function D(E,R,B){var C=_.exec(R.slice(B));return C?(E.m=b.get(C[0].toLowerCase()),B+C[0].length):-1}function F(E,R,B){var C=g.exec(R.slice(B));return C?(E.m=m.get(C[0].toLowerCase()),B+C[0].length):-1}function L(E,R,B){return T(E,n,R,B)}function A(E,R,B){return T(E,e,R,B)}function O(E,R,B){return T(E,r,R,B)}function V(E){return a[E.getDay()]}function Y(E){return o[E.getDay()]}function W(E){return c[E.getMonth()]}function k(E){return f[E.getMonth()]}function P(E){return i[+(E.getHours()>=12)]}function z(E){return 1+~~(E.getMonth()/3)}function I(E){return a[E.getUTCDay()]}function G(E){return o[E.getUTCDay()]}function nt(E){return c[E.getUTCMonth()]}function K(E){return f[E.getUTCMonth()]}function U(E){return i[+(E.getUTCHours()>=12)]}function q(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var R=w(E+="",v);return R.toString=function(){return E},R},parse:function(E){var R=x(E+="",!1);return R.toString=function(){return E},R},utcFormat:function(E){var R=w(E+="",y);return R.toString=function(){return E},R},utcParse:function(E){var R=x(E+="",!0);return R.toString=function(){return E},R}}}var Vu={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,g6=/^%/,m6=/[\\^$*+?|[\]().{}]/g;function rt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function b6(t){return t.replace(m6,"\\$&")}function or(t){return new RegExp("^(?:"+t.map(b6).join("|")+")","i")}function ar(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function y6(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function _6(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function w6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function v6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function x6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Gu(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Xu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function M6(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function $6(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function T6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Zu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function S6(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function A6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function C6(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function E6(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function N6(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function k6(t,n,e){var r=g6.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function I6(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function D6(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ju(t,n){return rt(t.getDate(),n,2)}function L6(t,n){return rt(t.getHours(),n,2)}function R6(t,n){return rt(t.getHours()%12||12,n,2)}function F6(t,n){return rt(1+de.count(Xt(t),t),n,3)}function jh(t,n){return rt(t.getMilliseconds(),n,3)}function P6(t,n){return jh(t,n)+"000"}function O6(t,n){return rt(t.getMonth()+1,n,2)}function U6(t,n){return rt(t.getMinutes(),n,2)}function z6(t,n){return rt(t.getSeconds(),n,2)}function q6(t){var n=t.getDay();return n===0?7:n}function B6(t,n){return rt(Ue.count(Xt(t)-1,t),n,2)}function Qh(t){var n=t.getDay();return n>=4||n===0?se(t):se.ceil(t)}function Y6(t,n){return t=Qh(t),rt(se.count(Xt(t),t)+(Xt(t).getDay()===4),n,2)}function H6(t){return t.getDay()}function W6(t,n){return rt(kr.count(Xt(t)-1,t),n,2)}function V6(t,n){return rt(t.getFullYear()%100,n,2)}function G6(t,n){return t=Qh(t),rt(t.getFullYear()%100,n,2)}function X6(t,n){return rt(t.getFullYear()%1e4,n,4)}function Z6(t,n){var e=t.getDay();return t=e>=4||e===0?se(t):se.ceil(t),rt(t.getFullYear()%1e4,n,4)}function K6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+rt(n/60|0,"0",2)+rt(n%60,"0",2)}function Qu(t,n){return rt(t.getUTCDate(),n,2)}function j6(t,n){return rt(t.getUTCHours(),n,2)}function Q6(t,n){return rt(t.getUTCHours()%12||12,n,2)}function J6(t,n){return rt(1+Io.count(Zt(t),t),n,3)}function Jh(t,n){return rt(t.getUTCMilliseconds(),n,3)}function t_(t,n){return Jh(t,n)+"000"}function n_(t,n){return rt(t.getUTCMonth()+1,n,2)}function e_(t,n){return rt(t.getUTCMinutes(),n,2)}function r_(t,n){return rt(t.getUTCSeconds(),n,2)}function i_(t){var n=t.getUTCDay();return n===0?7:n}function o_(t,n){return rt(ze.count(Zt(t)-1,t),n,2)}function td(t){var n=t.getUTCDay();return n>=4||n===0?le(t):le.ceil(t)}function a_(t,n){return t=td(t),rt(le.count(Zt(t),t)+(Zt(t).getUTCDay()===4),n,2)}function f_(t){return t.getUTCDay()}function c_(t,n){return rt(Ir.count(Zt(t)-1,t),n,2)}function u_(t,n){return rt(t.getUTCFullYear()%100,n,2)}function s_(t,n){return t=td(t),rt(t.getUTCFullYear()%100,n,2)}function l_(t,n){return rt(t.getUTCFullYear()%1e4,n,4)}function h_(t,n){var e=t.getUTCDay();return t=e>=4||e===0?le(t):le.ceil(t),rt(t.getUTCFullYear()%1e4,n,4)}function d_(){return"+0000"}function Ju(){return"%"}function ts(t){return+t}function ns(t){return Math.floor(+t/1e3)}var ve,ec,Kr;p_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p_(t){return ve=p6(t),ec=ve.format,ve.parse,Kr=ve.utcFormat,ve.utcParse,ve}function g_(t){return new Date(t)}function m_(t){return t instanceof Date?+t:+new Date(+t)}function rc(t,n,e,r,i,o,a,f,c,s){var u=Nh(),h=u.invert,l=u.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),_=s("%a %d"),b=s("%b %d"),v=s("%B"),y=s("%Y");function M(w){return(c(w)<w?d:f(w)<w?p:a(w)<w?g:o(w)<w?m:r(w)<w?i(w)<w?_:b:e(w)<w?v:y)(w)}return u.invert=function(w){return new Date(h(w))},u.domain=function(w){return arguments.length?l(Array.from(w,m_)):l().map(g_)},u.ticks=function(w){var x=l();return t(x[0],x[x.length-1],w??10)},u.tickFormat=function(w,x){return x==null?M:s(x)},u.nice=function(w){var x=l();return(!w||typeof w.range!="function")&&(w=n(x[0],x[x.length-1],w??10)),w?l(Ih(x,w)):u},u.copy=function(){return Br(u,rc(t,n,e,r,i,o,a,f,c,s))},u}function b_(){return ln.apply(rc(h6,d6,Xt,Xr,Ue,de,Vr,Hr,Vt,ec).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y_(){return ln.apply(rc(l6,Kh,Zt,Zr,ze,Io,Gr,Wr,Vt,Kr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lo(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ro(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,s=qt,u,h=!1,l;function d(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-o)*(r*g<r*o?f:c),s(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=u(t=+t),o=u(n=+n),a=u(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(s=g,d):s};function p(g){return function(m){var _,b,v;return arguments.length?([_,b,v]=m,s=$o(g,[_,b,v]),d):[s(0),s(.5),s(1)]}}return d.range=p(zr),d.rangeRound=p(Bf),d.unknown=function(g){return arguments.length?(l=g,d):l},function(g){return u=g,i=g(t),o=g(n),a=g(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function nd(){var t=Yr(Ro()(qt));return t.copy=function(){return Lo(t,nd())},Eo.apply(t,arguments)}function ed(){var t=Dh(Ro()).domain([.1,1,10]);return t.copy=function(){return Lo(t,ed()).base(t.base())},Eo.apply(t,arguments)}function rd(){var t=Rh(Ro());return t.copy=function(){return Lo(t,rd()).constant(t.constant())},Eo.apply(t,arguments)}function id(){var t=Ph(Ro());return t.copy=function(){return Lo(t,id()).exponent(t.exponent())},Eo.apply(t,arguments)}function Z(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const __=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),w_=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),v_=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),x_=Z("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),M_=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$_=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),T_=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),S_=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),A_=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C_=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),E_=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>_2(t[t.length-1]);var od=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const ad=ft(od);var fd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const cd=ft(fd);var ud=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const sd=ft(ud);var ld=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const hd=ft(ld);var pf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const io=ft(pf);var dd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const pd=ft(dd);var gf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const oo=ft(gf);var gd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const md=ft(gd);var bd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const yd=ft(bd);var _d=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const wd=ft(_d);var vd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const xd=ft(vd);var Md=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const $d=ft(Md);var Td=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const Sd=ft(Td);var Ad=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Cd=ft(Ad);var Ed=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Nd=ft(Ed);var kd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const Id=ft(kd);var Dd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const Ld=ft(Dd);var Rd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const Fd=ft(Rd);var Pd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Od=ft(Pd);var Ud=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const zd=ft(Ud);var qd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Bd=ft(qd);var Yd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Hd=ft(Yd);var Wd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const Vd=ft(Wd);var Gd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const Xd=ft(Gd);var Zd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const Kd=ft(Zd);var jd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const Qd=ft(jd);var Jd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const t0=ft(Jd);function n0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const e0=Yf(cn(300,.5,0),cn(-240,.5,1));var r0=Yf(cn(-100,.75,.35),cn(80,1.5,.8)),i0=Yf(cn(260,.75,.35),cn(80,1.5,.8)),mi=cn();function o0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return mi.h=360*t-100,mi.s=1.5-1.5*n,mi.l=.8-.9*n,mi+""}var bi=Pn(),N_=Math.PI/3,k_=Math.PI*2/3;function a0(t){var n;return t=(.5-t)*Math.PI,bi.r=255*(n=Math.sin(t))*n,bi.g=255*(n=Math.sin(t+N_))*n,bi.b=255*(n=Math.sin(t+k_))*n,bi+""}function f0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Fo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const c0=Fo(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var u0=Fo(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),s0=Fo(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),l0=Fo(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function xe(t){return function(){return t}}const h0=Math.cos,ic=Math.min,ao=Math.sin,pt=Math.sqrt,es=1e-12,fo=Math.PI,Po=2*fo;function I_(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Gl(n)}function D_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function d0(t){this._context=t}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Oo(t){return new d0(t)}function L_(t){return t[0]}function R_(t){return t[1]}function F_(t,n){var e=xe(!0),r=null,i=Oo,o=null,a=I_(f);t=typeof t=="function"?t:t===void 0?L_:xe(t),n=typeof n=="function"?n:n===void 0?R_:xe(n);function f(c){var s,u=(c=D_(c)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),s=0;s<=u;++s)!(s<u&&e(h=c[s],s,c))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,s,c),+n(h,s,c));if(d)return o=null,d+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:xe(+c),f):t},f.y=function(c){return arguments.length?(n=typeof c=="function"?c:xe(+c),f):n},f.defined=function(c){return arguments.length?(e=typeof c=="function"?c:xe(!!c),f):e},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}class p0{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function P_(t){return new p0(t,!0)}function O_(t){return new p0(t,!1)}const U_=pt(3),g0={draw(t,n){const e=pt(n+ic(n/28,.75))*.59436,r=e/2,i=r*U_;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Dr={draw(t,n){const e=pt(n/fo);t.moveTo(e,0),t.arc(0,0,e,0,Po)}},m0={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},b0=pt(1/3),z_=b0*2,y0={draw(t,n){const e=pt(n/z_),r=e*b0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},_0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},w0={draw(t,n){const e=pt(n-ic(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},v0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},x0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},q_=.8908130915292852,M0=ao(fo/10)/ao(7*fo/10),B_=ao(Po/10)*M0,Y_=-h0(Po/10)*M0,$0={draw(t,n){const e=pt(n*q_),r=B_*e,i=Y_*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Po*o/5,f=h0(a),c=ao(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},da=pt(3),T0={draw(t,n){const e=-pt(n/(da*3));t.moveTo(0,e*2),t.lineTo(-da*e,-e),t.lineTo(da*e,-e),t.closePath()}},H_=pt(3),S0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*H_/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Rt=-.5,Ft=pt(3)/2,mf=1/pt(12),W_=(mf/2+1)*3,A0={draw(t,n){const e=pt(n/W_),r=e/2,i=e*mf,o=r,a=e*mf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Rt*r-Ft*i,Ft*r+Rt*i),t.lineTo(Rt*o-Ft*a,Ft*o+Rt*a),t.lineTo(Rt*f-Ft*c,Ft*f+Rt*c),t.lineTo(Rt*r+Ft*i,Rt*i-Ft*r),t.lineTo(Rt*o+Ft*a,Rt*a-Ft*o),t.lineTo(Rt*f+Ft*c,Rt*c-Ft*f),t.closePath()}},C0={draw(t,n){const e=pt(n-ic(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},V_=[Dr,m0,y0,v0,$0,T0,A0],G_=[Dr,w0,C0,S0,g0,x0,_0];function On(){}function co(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Uo(t){this._context=t}Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:co(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:co(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function X_(t){return new Uo(t)}function E0(t){this._context=t}E0.prototype={areaStart:On,areaEnd:On,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:co(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Z_(t){return new E0(t)}function N0(t){this._context=t}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:co(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function K_(t){return new N0(t)}function k0(t,n){this._basis=new Uo(t),this._beta=n}k0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,c;++f<=e;)c=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*n[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const j_=(function t(n){function e(r){return n===1?new Uo(r):new k0(r,n)}return e.beta=function(r){return t(+r)},e})(.85);function uo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function oc(t,n){this._context=t,this._k=(1-n)/6}oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:uo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:uo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Q_=(function t(n){function e(r){return new oc(r,n)}return e.tension=function(r){return t(+r)},e})(0);function ac(t,n){this._context=t,this._k=(1-n)/6}ac.prototype={areaStart:On,areaEnd:On,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:uo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const J_=(function t(n){function e(r){return new ac(r,n)}return e.tension=function(r){return t(+r)},e})(0);function fc(t,n){this._context=t,this._k=(1-n)/6}fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const tw=(function t(n){function e(r){return new fc(r,n)}return e.tension=function(r){return t(+r)},e})(0);function cc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>es){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>es){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/u,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function I0(t,n){this._context=t,this._alpha=n}I0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const nw=(function t(n){function e(r){return n?new I0(r,n):new oc(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function D0(t,n){this._context=t,this._alpha=n}D0.prototype={areaStart:On,areaEnd:On,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ew=(function t(n){function e(r){return n?new D0(r,n):new ac(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function L0(t,n){this._context=t,this._alpha=n}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const rw=(function t(n){function e(r){return n?new L0(r,n):new fc(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function R0(t){this._context=t}R0.prototype={areaStart:On,areaEnd:On,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function iw(t){return new R0(t)}function rs(t){return t<0?-1:1}function is(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(rs(o)+rs(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function os(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function pa(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function so(t){this._context=t}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pa(this,this._t0,os(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,pa(this,os(this,e=is(this,t,n)),e);break;default:pa(this,this._t0,e=is(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function F0(t){this._context=new P0(t)}(F0.prototype=Object.create(so.prototype)).point=function(t,n){so.prototype.point.call(this,n,t)};function P0(t){this._context=t}P0.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function ow(t){return new so(t)}function aw(t){return new F0(t)}function O0(t){this._context=t}O0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=as(t),i=as(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function as(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function fw(t){return new O0(t)}function zo(t,n){this._context=t,this._t=n}zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function cw(t){return new zo(t,.5)}function uw(t){return new zo(t,0)}function sw(t){return new zo(t,1)}function mr(t,n,e){this.k=t,this.x=n,this.y=e}mr.prototype={constructor:mr,scale:function(t){return t===1?this:new mr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new mr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};mr.prototype;function Un(t){return t!=null&&!Number.isNaN(t)}function he(t,n){return+Un(n)-+Un(t)||Rn(t,n)}function bf(t,n){return+Un(n)-+Un(t)||Pr(t,n)}function uc(t){return t!=null&&`${t}`!=""}function U0(t){return isFinite(t)?t:NaN}function qo(t){return t>0&&isFinite(t)?t:NaN}function sc(t){return t<0&&isFinite(t)?t:NaN}function lw(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${hw(t.getUTCFullYear())}-${yn(t.getUTCMonth()+1,2)}-${yn(t.getUTCDate(),2)}${e||r||i||o?`T${yn(e,2)}:${yn(r,2)}${i||o?`:${yn(i,2)}${o?`.${yn(o,3)}`:""}`:""}Z`:""}`}function hw(t){return t<0?`-${yn(-t,6)}`:t>9999?`+${yn(t,6)}`:yn(t,4)}function yn(t,n){return`${t}`.padStart(n,"0")}const dw=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function z0(t,n){return dw.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function qe(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Pr(n,e)}const Se=1e3,Dn=Se*60,Ln=Dn*60,un=Ln*24,tn=un*7,re=un*30,In=un*365,ga=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Se],["5 seconds",5*Se],["15 seconds",15*Se],["30 seconds",30*Se],["minute",Dn],["5 minutes",5*Dn],["15 minutes",15*Dn],["30 minutes",30*Dn],["hour",Ln],["3 hours",3*Ln],["6 hours",6*Ln],["12 hours",12*Ln],["day",un],["2 days",2*un],["week",tn],["2 weeks",2*tn],["month",re],["3 months",3*re],["6 months",6*re],["year",In],["2 years",2*In],["5 years",5*In],["10 years",10*In],["20 years",20*In],["50 years",50*In],["100 years",100*In]],lc=new Map([["second",Se],["minute",Dn],["hour",Ln],["day",un],["monday",tn],["tuesday",tn],["wednesday",tn],["thursday",tn],["friday",tn],["saturday",tn],["sunday",tn],["week",tn],["month",re],["year",In]]),q0=new Map([["second",Vt],["minute",Hr],["hour",Vr],["day",de],["monday",kr],["tuesday",qh],["wednesday",Bh],["thursday",se],["friday",Yh],["saturday",Hh],["sunday",Ue],["week",Ue],["month",Xr],["year",Xt]]),hc=new Map([["second",Vt],["minute",Wr],["hour",Gr],["day",Do],["monday",Ir],["tuesday",Wh],["wednesday",Vh],["thursday",le],["friday",Gh],["saturday",Xh],["sunday",ze],["week",ze],["month",Zr],["year",Zt]]),jr=Symbol("intervalDuration"),Bo=Symbol("intervalType");for(const[t,n]of q0)n[jr]=lc.get(t),n[Bo]="time";for(const[t,n]of hc)n[jr]=lc.get(t),n[Bo]="utc";const br=[["year",Zt,"utc"],["month",Zr,"utc"],["day",Do,"utc",6*re],["hour",Gr,"utc",3*un],["minute",Wr,"utc",6*Ln],["second",Vt,"utc",30*Dn]],ki=[["year",Xt,"time"],["month",Xr,"time"],["day",de,"time",6*re],["hour",Vr,"time",3*un],["minute",Hr,"time",6*Ln],["second",Vt,"time",30*Dn]],pw=[br[0],ki[0],br[1],ki[1],br[2],ki[2],...br.slice(3)];function B0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=hc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Y0(t){return H0(B0(t),"time")}function dc(t){return H0(B0(t),"utc")}function H0([t,n],e){let r=(e==="time"?q0:hc).get(t);return n>1&&(r=r.every(n),r[jr]=lc.get(t)*n,r[Bo]=e),r}function fs(t,n){if(!(n>1))return;const e=t[jr];if(!ga.some(([,i])=>i===e)||e%un===0&&un<e&&e<re)return;const[r]=ga[mo(([,i])=>Math.log(i)).center(ga,Math.log(e*n))];return(t[Bo]==="time"?Y0:dc)(r)}function cs(t,n,e){const r=n==="time"?ec:Kr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=gw(e);switch(t){case"millisecond":return Me(r(".%L"),r(":%M:%S"),i);case"second":return Me(r(":%S"),r("%-I:%M"),i);case"minute":return Me(r("%-I:%M"),r("%p"),i);case"hour":return Me(r("%-I %p"),r("%b %-d"),i);case"day":return Me(r("%-d"),r("%b"),i);case"month":return Me(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function gw(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function mw(t){return t==="time"?ki:t==="utc"?br:pw}function bw(t,n,e){const r=fn(cg(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return cs("millisecond","utc",e);for(const[i,o,a,f]of mw(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return cs(i,a,e)}}function Me(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-qe(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const pc=Object.getPrototypeOf(Uint8Array),yw=Object.prototype.toString;function Qr(t){return t instanceof Array||t instanceof pc}function W0(t){return t instanceof pc&&!_w(t)}function V0(t){return(t==null?void 0:t.prototype)instanceof pc&&!ww(t)}function _w(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function ww(t){return t===BigInt64Array||t===BigUint64Array}const vw=Symbol("reindex");function Ct(t,n,e){const r=typeof n;return r==="string"?i1(t)?gc(t.getChild(n),e):us(t,Mw(n),e):r==="function"?us(t,n,e):r==="number"||n instanceof Date||r==="boolean"?ht(t,Mn(n),e):typeof(n==null?void 0:n.transform)=="function"?yf(n.transform(t),e):xw(yf(n,e),t==null?void 0:t[vw])}function xw(t,n){return t!=null&&n?yc(t,n):t}function us(t,n,e){return ht(t,V0(e)?(r,i)=>mc(n(r,i)):n,e)}function yf(t,n){return n===void 0?me(t):o1(t)?gc(t,n):t instanceof n?t:n.from(t,V0(n)&&!W0(t)?mc:void 0)}function gc(t,n){return t==null?t:(n===void 0||n===Array)&&Bw(t.type)?Z0(ss(t)):yf(ss(t),n)}function ss(t){return t.nullCount?t.toJSON():t.toArray()}const Ii=[null],Mw=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},G0={transform:je},Lt={transform:t=>t},l7=()=>1,$w=()=>!0,vt=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,X0=t=>t?t[0]:void 0,_f=t=>t?t[1]:void 0,Mn=t=>()=>t;function Tw(t){const n=+`${t}`.slice(1)/100;return(e,r)=>ke(e,n,r)}function Be(t){return W0(t)?t:ht(t,mc,Float64Array)}function mc(t){return t==null?NaN:Number(t)}function Z0(t){return ht(t,K0)}function K0(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?z0(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Cn(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:Ho(t)?[void 0,t]:[t,void 0]}function St(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function j0(t,n,e){if(t!=null)return jt(t,n,e)}function jt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Ye(t){return i1(t)?t:me(t)}function me(t){if(t==null||Qr(t))return t;if(o1(t))return gc(t);if(Q0(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function Q0(t){switch(t==null?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function ht(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function wf(t,n=Array){return t instanceof n?t.slice():n.from(t)}function h7({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function Bn(t){return(t==null?void 0:t.toString)===yw}function vf(t){return Bn(t)&&(t.type!==void 0||t.domain!==void 0)}function Yo(t){return Bn(t)&&typeof t.transform!="function"}function He(t){return Yo(t)&&t.value===void 0&&t.channel===void 0}function d7(t,n,e,r=Lt){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function bc(t,n){return t===void 0&&n===void 0?[X0,_f]:[t,n]}function Sw({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=Cn(n)),t===void 0&&([t]=Cn(e)),t}function xf(t){return Qr(t)?t.length:t==null?void 0:t.numRows}function je(t){const n=xf(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function yc(t,n){return Qr(t)?ht(n,e=>t[e],t.constructor):ht(n,e=>t.at(e))}function Aw(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function $n(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cw(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function J0(t){let n;return[{transform:()=>n,label:be(t)},e=>n=e]}function kn(t){return t==null?[t]:J0(t)}function be(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function ls(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Nt(r)||Nt(i)?ht(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):ht(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Ew(t,n){const e=t1(n==null?void 0:n.interval,n==null?void 0:n.type);return e?ht(t,e):t}function t1(t,n){const e=_c(t,n);return e&&(r=>Un(r)?e.floor(r):r)}function _c(t,n){if(t!=null){if(typeof t=="number")return Nw(t);if(typeof t=="string")return(n==="time"?Y0:dc)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Nw(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>Pa(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>Pa(Math.ceil(e/n),r/n).map(i=>i*n)}}function Qe(t,n){if(t=_c(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function kw(t,n){if(t=Qe(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Iw(t){return Ae(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Ae(t){return typeof(t==null?void 0:t.range)=="function"}function Jr(t){return t===void 0||Yo(t)?t:{value:t}}function Dw(t){return t==null?null:{transform:n=>Ct(n,t,Float64Array),label:be(t)}}function Yn(t){return t&&typeof t[Symbol.iterator]=="function"}function n1(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function hs(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Nt(t){for(const n of t)if(n!=null)return n instanceof Date}function Lw(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&z0(n)}function Rw(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Fw(t){for(const n of t)if(n!=null)return typeof n=="number"}function ma(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const Pw=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ho(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Pw.has(t))}function Ow(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function At(t){return t==null||Lr(t)}function Lr(t){return/^\s*none\s*$/i.test(t)}function Uw(t){return/^\s*round\s*$/i.test(t)}function Mf(t,n){return j0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Wo(t="middle"){return Mf(t,"frameAnchor")}function zw(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function qw(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function e1(t){return Yn(t)?qw(t):t}function r1(t){return t===!0?t="frame":t===!1?t=null:!Q0(t)&&t!=null&&(t=jt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function i1(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function o1(t){return t&&typeof t.toArray=="function"&&t.type}function Bw(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const rn=Symbol("position"),En=Symbol("color"),ti=Symbol("radius"),ni=Symbol("length"),ei=Symbol("opacity"),Vo=Symbol("symbol"),a1=Symbol("projection"),lt=new Map([["x",rn],["y",rn],["fx",rn],["fy",rn],["r",ti],["color",En],["opacity",ei],["symbol",Vo],["length",ni],["projection",a1]]);function Yw(t){return t===rn||t===a1}function Hw(t){return t===rn||t===ti||t===ni||t===ei}const Ww=Math.sqrt(3),Vw=2/Ww,Gw={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*Vw,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},wc=new Map([["asterisk",g0],["circle",Dr],["cross",m0],["diamond",y0],["diamond2",_0],["hexagon",Gw],["plus",w0],["square",v0],["square2",x0],["star",$0],["times",C0],["triangle",T0],["triangle2",S0],["wye",A0]]);function vc(t){return t&&typeof t.draw=="function"}function Xw(t){return vc(t)?!0:typeof t!="string"?!1:wc.has(t.toLowerCase())}function xc(t){if(t==null||vc(t))return t;const n=wc.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Zw(t){if(t==null||vc(t))return[void 0,t];if(typeof t=="string"){const n=wc.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function Mc({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=f1(t)),n!=null&&!He(n)&&(r=ba(r,$c(n))),e&&(r=ba(r,c1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||He(n))&&{sort:n},transform:ba(r,a)}}function We({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=f1(t)),n!=null&&!He(n)&&(r=ya(r,$c(n))),e&&(r=ya(r,c1))),{...i,...(n===null||He(n))&&{sort:n},initializer:ya(r,o)}}function ba(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Ye(e),r,i)}}function ya(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,s,u,h;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:u=f,facets:h=c,channels:s}=n.call(this,f,c,{...i,...a},...o),{data:u,facets:h,channels:{...a,...s}}}}function Kw(t,n){return(t.initializer!=null?We:Mc)(t,n)}function f1(t){return(n,e)=>{const r=Ct(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function c1(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function jw(t,{sort:n,...e}={}){return{...(Yo(t)&&t.channel!==void 0?We:Kw)(e,$c(t)),sort:He(n)?n:null}}function $c(t){return(typeof t=="function"&&t.length!==1?Qw:Jw)(t)}function Qw(t){return(n,e)=>{const r=Qr(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function Jw(t){let n,e;({channel:n,value:t,order:e}={...Jr(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?bf:he),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=he;break;case"descending":e=bf;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=Ct(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function _a(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function t3(t,n,e=u1){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",f3]),n.href!=null&&t.href===void 0&&r.push(["href",Sc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?n3(i):e(i,o,n))}function u1(t,n,e,r=s1){let i;Bn(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,f]=J0(o.label);let c;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(s){o.initialize(s),c=f([])},scope(s,u){o.scope(s,u)},reduce(s,u){c.push(o.reduce(s,u))}}}function n3(t){return{name:t,initialize(){},scope(){},reduce(){}}}function s1(t,n,e,r=Tc){const i=Cw(t,e),o=r(n,i);let a,f;return{label:be(o===lo?null:i,o.label),initialize(c){a=i===void 0?c:Ct(c,i),o.scope==="data"&&(f=o.reduceIndex(je(c),a))},scope(c,s){o.scope===c&&(f=o.reduceIndex(s,a))},reduce(c,s){return o.scope==null?o.reduceIndex(c,a,s):o.reduceIndex(c,a,f,s)}}}function ds(t,n){return n?ol(t,e=>n[e]):[[,t]]}function Tc(t,n,e=e3){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Bn(t))return o3(t);if(typeof t=="function")return a3(t);if(/^p\d{2}$/i.test(t))return bn(Tw(t));switch(`${t}`.toLowerCase()){case"first":return Sc;case"last":return c3;case"identity":return l1;case"count":return lo;case"distinct":return u3;case"sum":return n==null?lo:s3;case"proportion":return gs(n,"data");case"proportion-facet":return gs(n,"facet");case"deviation":return bn(nl);case"min":return bn($r);case"min-index":return bn(eg);case"max":return bn(fn);case"max-index":return bn(ng);case"mean":return ps(og);case"median":return ps(Fa);case"variance":return bn(tl);case"mode":return bn(fg)}return e(t)}function e3(t){throw new Error(`invalid reduce: ${t}`)}function r3(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function i3(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>he(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function o3(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function a3(t){return{reduceIndex(n,e,r){return t(yc(e,n),r)}}}function bn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function ps(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Nt(e)?new Date(r):r}}}const l1={reduceIndex(t,n){return yc(n,t)}},Sc={reduceIndex(t,n){return n[t[0]]}},f3={reduceIndex(t,n){const r=al(Si(t,o=>o.length,o=>n[o]),_f),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,_o(o,_f)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},c3={reduceIndex(t,n){return n[t[t.length-1]]}},lo={label:"Frequency",reduceIndex(t){return t.length}},u3={label:"Distinct",reduceIndex(t,n){const e=new yo;for(const r of t)e.add(n[r]);return e.size}},s3=bn(_o);function gs(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>_o(e,o=>r[o])/i}}const l3={reduceIndex(t,n,{z:e}){return e}};function Rr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=be(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),h1(f,{scale:n,type:e,value:Ct(t,r),label:a,filter:i,hint:o})}function h3(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Rr(n,r,e)]))}function d3(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:ht(o,a)]}));return e.channels=t,e}function h1(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&ma(r,Ho)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&ma(r,Ow)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&ma(r,Xw)?(n.scale=null,n.value=ht(r,xc)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=lt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!lt.has(e))throw new Error(`unknown scale: ${e}`);return n}function p3(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!lt.has(s))continue;let{value:u,order:h=o,reverse:l=a,reduce:d=f,limit:p=c}=Jr(i[s]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),h=h===void 0?g!==(u==="width"||u==="height")?p1:d1:b3(h),d==null||d===!1)continue;const m=s==="fx"||s==="fy"?m3(n,r[s]):g3(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const _=m.value,[b=0,v=1/0]=Yn(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let y=Array.from(new yo(_));return l&&(y=y.reverse()),(b!==0||v!==1/0)&&(y=y.slice(b,v)),y};else{const y=u==="data"?t:u==="height"?ms(e,"y1","y2"):u==="width"?ms(e,"x1","x2"):$f(e,u,u==="y"?"y2":u==="x"?"x2":void 0),M=Tc(d===!0?"max":d,y);m.domain=()=>{let w=Zp(je(_),x=>M.reduceIndex(x,y),x=>_[x]);return h&&w.sort(h),l&&w.reverse(),(b!==0||v!==1/0)&&(w=w.slice(b,v)),w.map(X0)}}}}function g3(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function m3(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function ms(t,n,e){const r=$f(t,n),i=$f(t,e);return ht(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function $f(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function b3(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return d1;case"descending":return p1}throw new Error(`invalid order: ${t}`)}function d1([t,n],[e,r]){return he(n,r)||he(t,e)}function p1([t,n],[e,r]){return bf(n,r)||he(t,e)}function bs(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const g1=new Map([["accent",w_],["category10",__],["dark2",v_],["observable10",x_],["paired",M_],["pastel1",$_],["pastel2",T_],["set1",S_],["set2",A_],["set3",C_],["tableau10",E_]]);function y3(t){return t!=null&&g1.has(`${t}`.toLowerCase())}const ys=new Map([...g1,["brbg",pn(od,ad)],["prgn",pn(fd,cd)],["piyg",pn(ud,sd)],["puor",pn(ld,hd)],["rdbu",pn(pf,io)],["rdgy",pn(dd,pd)],["rdylbu",pn(gf,oo)],["rdylgn",pn(gd,md)],["spectral",pn(bd,yd)],["burd",_s(pf,io)],["buylrd",_s(gf,oo)],["blues",gt(Yd,Hd)],["greens",gt(Wd,Vd)],["greys",gt(Gd,Xd)],["oranges",gt(Jd,t0)],["purples",gt(Zd,Kd)],["reds",gt(jd,Qd)],["turbo",gn(f0)],["viridis",gn(c0)],["magma",gn(u0)],["inferno",gn(s0)],["plasma",gn(l0)],["cividis",gn(n0)],["cubehelix",gn(e0)],["warm",gn(r0)],["cool",gn(i0)],["bugn",gt(_d,wd)],["bupu",gt(vd,xd)],["gnbu",gt(Md,$d)],["orrd",gt(Td,Sd)],["pubu",gt(Ed,Nd)],["pubugn",gt(Ad,Cd)],["purd",gt(kd,Id)],["rdpu",gt(Dd,Ld)],["ylgn",gt(Pd,Od)],["ylgnbu",gt(Rd,Fd)],["ylorbr",gt(Ud,zd)],["ylorrd",gt(qd,Bd)],["rainbow",ws(o0)],["sinebow",ws(a0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Gt(n,e):t[e])}function pn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Gt(n,e):t[e])}function _s(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Gt(r=>n(1-r),e):t[e].slice().reverse())}function gn(t){return({length:n})=>Gt(t,Math.max(2,Math.floor(n)))}function ws(t){return({length:n})=>Gt(t,Math.floor(n)+1).slice(0,-1)}function m1(t){const n=`${t}`.toLowerCase();if(!ys.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return ys.get(n)}function Go(t,n){const e=m1(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function _3(t,n="greys"){const e=new Set,[r,i]=Go(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const vs=new Map([["brbg",ad],["prgn",cd],["piyg",sd],["puor",hd],["rdbu",io],["rdgy",pd],["rdylbu",oo],["rdylgn",md],["spectral",yd],["burd",t=>io(1-t)],["buylrd",t=>oo(1-t)],["blues",Hd],["greens",Vd],["greys",Xd],["purples",Kd],["reds",Qd],["oranges",t0],["turbo",f0],["viridis",c0],["magma",u0],["inferno",s0],["plasma",l0],["cividis",n0],["cubehelix",e0],["warm",r0],["cool",i0],["bugn",wd],["bupu",xd],["gnbu",$d],["orrd",Sd],["pubugn",Cd],["pubu",Nd],["purd",Id],["rdpu",Ld],["ylgnbu",Fd],["ylgn",Od],["ylorbr",zd],["ylorrd",Bd],["rainbow",o0],["sinebow",a0]]);function Ac(t){const n=`${t}`.toLowerCase();if(!vs.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return vs.get(n)}const w3=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function v3(t){return t!=null&&w3.has(`${t}`.toLowerCase())}const b1=t=>n=>t(1-n),wa=[0,1],xs=new Map([["number",wt],["rgb",fe],["hsl",I2],["hcl",R2],["lab",D2]]);function y1(t){const n=`${t}`.toLowerCase();if(!xs.has(n))throw new Error(`unknown interpolator: ${n}`);return xs.get(n)}function ri(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=w1(t,e),unknown:c,round:s,scheme:u,interval:h,range:l=lt.get(t)===ti?I3(e,f):lt.get(t)===ni?D3(e,f):lt.get(t)===ei?wa:void 0,interpolate:d=lt.get(t)===En?u==null&&l!==void 0?fe:Ac(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Bf:wt,reverse:p}){if(f=Ms(f),h=Qe(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=y1(d)),p=!!p,l!==void 0){const g=f.length,m=(l=Ms(l)).length;if(g!==m){if(d.length===1)throw new Error("invalid piecewise interpolator");d=$o(d,l),l=void 0}}if(d.length===1?(p&&(d=b1(d),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=wa)),n.interpolate((l===wa?Mn:Ec)(d))):n.interpolate(d),a){const[g,m]=Ot(f);(g>0||m<0)&&(f=wf(f),(qe(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Fi(f)),n.domain(f).unknown(c),i&&(n.nice(x3(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:d,interval:h}}function Ms(t){return t=me(t),t.length>=2?t:[t[0],t[0]]}function x3(t,n){return t===!0?void 0:typeof t=="number"?t:kw(t,n)}function M3(t,n,e){return ri(t,tc(),n,e)}function $3(t,n,e){return _1(t,n,{...e,exponent:.5})}function _1(t,n,{exponent:e=1,...r}){return ri(t,Oh().exponent(e),n,{...r,type:"pow"})}function T3(t,n,{base:e=10,domain:r=L3(n),...i}){return ri(t,Lh().base(e),n,{...i,domain:r})}function S3(t,n,{constant:e=1,...r}){return ri(t,Fh().constant(e),n,r)}function A3(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=R3(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?Gt(c,i):lt.get(t)===En?Go(o,i):void 0),a.length>0&&(a=Uh(a,e===void 0?{length:i}:e).quantiles()),Cc(t,n,{domain:a,range:e,reverse:s,unknown:f})}function C3(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=w1(t,n),unknown:a,interpolate:f,reverse:c}){const[s,u]=Ot(o);let h;return e===void 0?(h=Mr(s,u,r),h[0]<=s&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),r=h.length+1,e=f!==void 0?Gt(f,r):lt.get(t)===En?Go(i,r):void 0):(h=Gt(wt(s,u),r+1).slice(1,-1),s instanceof Date&&(h=h.map(l=>new Date(l)))),qe(me(o))<0&&h.reverse(),Cc(t,n,{domain:h,range:e,reverse:c,unknown:a})}function Cc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Gt(o,e.length+1):lt.get(t)===En?Go(i,e.length+1):void 0,reverse:f}){e=me(e);const c=qe(e);if(!isNaN(c)&&!E3(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Fi(a)),{type:"threshold",scale:zh(c<0?Fi(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function E3(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Pr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function N3(t){return{type:"identity",scale:Hw(lt.get(t))?kh():n=>n}}function Fr(t,n=U0){return t.length?[$r(t,({value:e})=>e===void 0?e:$r(e,n)),fn(t,({value:e})=>e===void 0?e:fn(e,n))]:[0,1]}function w1(t,n){const e=lt.get(t);return(e===ti||e===ei||e===ni?k3:Fr)(n)}function k3(t){return[0,t.length?fn(t,({value:n})=>n===void 0?n:fn(n,U0)):1]}function I3(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=ke(t,.5,({value:a})=>a===void 0?NaN:ke(a,.25,qo)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/fn(i);return o<1?i.map(a=>a*o):i}function D3(t,n){const e=Fa(t,({value:o})=>o===void 0?NaN:Fa(o,Math.abs)),r=n.map(o=>12*o/e),i=60/fn(r);return i<1?r.map(o=>o*i):r}function L3(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Fr(t,qo);if(e<0)return Fr(t,sc)}return[1,10]}function R3(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Ec(t){return(n,e)=>r=>t(n+r*(e-n))}let Tf=0,Sf;function F3(){const t=Tf;return Tf=0,Sf=void 0,t}function Fn(t){t!==Sf&&(Sf=t,console.warn(t),++Tf)}function Xo(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Fr(r),unknown:c,pivot:s=0,scheme:u,range:h,symmetric:l=!0,interpolate:d=lt.get(t)===En?u==null&&h!==void 0?fe:Ac(u!==void 0?u:"rdbu"):wt,reverse:p}){s=+s,f=me(f);let[g,m]=f;if(f.length>2&&Fn(`Warning: the diverging ${t} scale domain contains extra elements.`),Pr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof d!="function"&&(d=y1(d)),h!==void 0&&(d=d.length===1?Ec(d)(...h):$o(d,h)),p&&(d=b1(d)),l){const _=e.apply(s),b=_-e.apply(g),v=e.apply(m)-_;b<v?g=e.invert(_-v):b>v&&(m=e.invert(_+b))}return n.domain([g,s,m]).unknown(c).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,m],pivot:s,interpolate:d,scale:n}}function P3(t,n,e){return Xo(t,nd(),q3,n,e)}function O3(t,n,e){return v1(t,n,{...e,exponent:.5})}function v1(t,n,{exponent:e=1,...r}){return Xo(t,id().exponent(e=+e),H3(e),n,{...r,type:"diverging-pow"})}function U3(t,n,{base:e=10,pivot:r=1,domain:i=Fr(n,r<0?sc:qo),...o}){return Xo(t,ed().base(e=+e),B3,n,{domain:i,pivot:r,...o})}function z3(t,n,{constant:e=1,...r}){return Xo(t,rd().constant(e=+e),W3(e),n,r)}const q3={apply(t){return t},invert(t){return t}},B3={apply:Math.log,invert:Math.exp},Y3={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function H3(t){return t===.5?Y3:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function W3(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function x1(t,n,e,r){return ri(t,n,e,r)}function V3(t,n,e){return x1(t,b_(),n,e)}function G3(t,n,e){return x1(t,y_(),n,e)}const ii=Symbol("ordinal");function M1(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=Qe(i,r),o===void 0&&(o=T1(e,i,t)),(r==="categorical"||r===ii)&&(r="ordinal"),f&&(o=Fi(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function X3(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=Qe(r,e),i===void 0&&(i=T1(n,r,t));let s;if(lt.get(t)===Vo)s=j3(n),o=o===void 0?Q3(s):ht(o,xc);else if(lt.get(t)===En&&(o===void 0&&(e==="ordinal"||e===ii)&&(o=_3(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=Ac(a),h=o[0],l=o[1]-o[0];o=({length:d})=>Gt(p=>u(h+l*p),d)}else o=m1(a);if(f===lf)throw new Error(`implicit unknown on ${t} scale is not supported`);return M1(t,Jf().unknown(f),n,{...c,type:e,domain:i,range:o,hint:s})}function Z3(t,n,{align:e=.5,padding:r=.5,...i}){return $1(Qy().align(e).padding(r),n,i,t)}function K3(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return $1(No().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function $1(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=M1(r,t,n,e),t.round=i,t}function T1(t,n,e){const r=new yo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Ot(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&lt.get(e)===rn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return al(r,he)}function $s(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function j3(t){return{fill:$s(t,"fill"),stroke:$s(t,"stroke")}}function Q3(t){return At(t.fill)?G_:V_}function Af(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,facet:{label:p=n}={},...g}={}){const m={};for(const[_,b]of t){const v=g[_],y=r5(_,b,{round:lt.get(_)===rn?f:void 0,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,...v});if(y){let{label:M=_==="fx"||_==="fy"?p:n,percent:w,transform:x,inset:T,insetTop:S=T!==void 0?T:_==="y"?r:0,insetRight:N=T!==void 0?T:_==="x"?i:0,insetBottom:$=T!==void 0?T:_==="y"?o:0,insetLeft:D=T!==void 0?T:_==="x"?a:0}=v||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=M===void 0?t5(b,y):M,y.transform=x,_==="x"||_==="fx"?(y.insetLeft=+D,y.insetRight=+N):(_==="y"||_==="fy")&&(y.insetTop=+S,y.insetBottom=+$),m[_]=y}}return m}function Ts(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=c5(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function J3(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Nc(n):n;i&&Ss(i,a),o&&As(o,a);const f=i||o?S1(t,n):n;e&&Ss(e,f),r&&As(r,f)}function t5(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!ye(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function n5(t){return Math.sign(qe(t.domain()))*Math.sign(qe(t.range()))}function Nc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function S1({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=Nc(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function Ss(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],ye(t)||(t.range=C1(t)),t.scale.range(t.range)}A1(t)}function As(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],ye(t)?t.range.reverse():t.range=C1(t),t.scale.range(t.range)}A1(t)}function A1(t){t.round===void 0&&o5(t)&&e5(t)<=30&&t.scale.round(!0)}function e5({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function C1(t){const n=t.scale.domain().length+E1(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function r5(t,n=[],e={}){const r=i5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&ye({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Nt)?Fn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${$e(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${$e(r)}".`):i.some(Lw)?Fn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${$e(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${$e(r)}".`):i.some(Rw)&&Fn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${$e(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${$e(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=yi(n,e,Be);break;case"identity":switch(lt.get(t)){case rn:e=yi(n,e,Be);break;case Vo:e=yi(n,e,a5);break}break;case"utc":case"time":e=yi(n,e,Z0);break}switch(r){case"diverging":return P3(t,n,e);case"diverging-sqrt":return O3(t,n,e);case"diverging-pow":return v1(t,n,e);case"diverging-log":return U3(t,n,e);case"diverging-symlog":return z3(t,n,e);case"categorical":case"ordinal":case ii:return X3(t,n,e);case"cyclical":case"sequential":case"linear":return M3(t,n,e);case"sqrt":return $3(t,n,e);case"threshold":return Cc(t,n,e);case"quantile":return A3(t,n,e);case"quantize":return C3(t,n,e);case"pow":return _1(t,n,e);case"log":return T3(t,n,e);case"symlog":return S3(t,n,e);case"utc":return G3(t,n,e);case"time":return V3(t,n,e);case"point":return Z3(t,n,e);case"band":return K3(t,n,e);case"identity":return N3(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function $e(t){return typeof t=="symbol"?t.description:t}function Cs(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Es={toString:()=>"projection"};function i5(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){var u;if(e=Cs(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Es);for(const h of n){const l=Cs(h.type);if(l!==void 0){if(e===void 0)e=l;else if(e!==l)throw new Error(`scale incompatible with channel: ${e} !== ${l}`)}}if(e===Es)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:h})=>h!==void 0))return;const c=lt.get(t);if(c===ti)return"sqrt";if(c===ei||c===ni)return"linear";if(c===Vo)return"ordinal";const s=(u=r??i)==null?void 0:u.length;if(s<2||s>2)return va(c);if(r!==void 0){if(hs(r))return va(c);if(Nt(r))return"utc"}else{const h=n.map(({value:l})=>l).filter(l=>l!==void 0);if(h.some(hs))return va(c);if(h.some(Nt))return"utc"}if(c===En){if(a!=null||v3(o))return"diverging";if(y3(o))return"categorical"}return"linear"}function va(t){switch(t){case rn:return"point";case En:return ii;default:return"ordinal"}}function ye({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ii}function E1({type:t}){return t==="threshold"}function o5({type:t}){return t==="point"||t==="band"}function ho(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function yi(t,{domain:n,...e},r){var i;for(const o of t)o.value!==void 0&&(n===void 0&&(n=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:n===void 0?n:r(n),...e}}function a5(t){return ht(t,xc)}function f5(t){return n=>{if(!lt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function c5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:wf(e),...r!==void 0&&{range:wf(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function u5(t,n){const{fx:e,fy:r}=Af(t,n),i=e==null?void 0:e.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Xp(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function s5(t,{x:n,y:e}){return n&&(n=Cf(n)),e&&(e=Cf(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function kc(t,{fx:n,fy:e}){const r=je(t),i=n==null?void 0:n.value,o=e==null?void 0:e.value;return n&&e?Si(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Si(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Si(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function l5(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function h5(t){const n=[],e=new Uint32Array(_o(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const d5=new Map([["top",xa],["right",Ta],["bottom",Ma],["left",$a],["top-left",_i(xa,$a)],["top-right",_i(xa,Ta)],["bottom-left",_i(Ma,$a)],["bottom-right",_i(Ma,Ta)],["top-empty",m5],["right-empty",_5],["bottom-empty",b5],["left-empty",y5],["empty",w5]]);function p5(t){if(t==null)return null;const n=d5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Ns=new WeakMap;function Cf(t){let n=Ns.get(t);return n||Ns.set(t,n=new xr(ht(t,(e,r)=>[e,r]))),n}function Hn(t,n){return Cf(t).get(n)}function g5(t,n,e){return n=$n(n),e=$n(e),t.find(r=>Object.is($n(r.x),n)&&Object.is($n(r.y),e))}function Zo(t,n,e){var r;return(r=g5(t,n,e))==null?void 0:r.empty}function xa(t,{y:n},{y:e}){return n?Hn(n,e)===0:!0}function Ma(t,{y:n},{y:e}){return n?Hn(n,e)===n.length-1:!0}function $a(t,{x:n},{x:e}){return n?Hn(n,e)===0:!0}function Ta(t,{x:n},{x:e}){return n?Hn(n,e)===n.length-1:!0}function m5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Hn(n,r);if(o>0)return Zo(t,e,n[o-1])}function b5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Hn(n,r);if(o<n.length-1)return Zo(t,e,n[o+1])}function y5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Hn(n,e);if(o>0)return Zo(t,n[o-1],r)}function _5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Hn(n,e);if(o<n.length-1)return Zo(t,n[o+1],r)}function w5(t,n,{empty:e}){return e}function _i(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Sa(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const N1=Math.PI,mn=2*N1,Aa=.618;function v5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(Bn(t)){let M;if({type:t,domain:c,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Ef(t));const{width:u,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:g}=a,m=u-l-d-o-r,_=h-p-g-e-i;if(t=t==null?void 0:t({width:m,height:_,clip:s,...f}),t==null)return;s=x5(s,l,p,u-d,h-g);let b=l+o,v=p+e,y;if(c!=null){const[[M,w],[x,T]]=Zf(t).bounds(c),S=Math.min(m/(x-M),_/(T-w));S>0?(b-=(S*(M+x)-m)/2,v-=(S*(w+T)-_)/2,y=Ji({point(N,$){this.stream.point(N*S+b,$*S+v)}})):Fn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&v===0?k1():Ji({point(M,w){this.stream.point(M+b,w+v)}})),{stream:M=>t.stream(y.stream(s(M)))}}function Ef(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Ht(Py,.7463,.4673);case"albers":return wi(_h,.7463,.4673);case"azimuthal-equal-area":return Ht(Oy,4,4);case"azimuthal-equidistant":return Ht(Uy,mn,mn);case"conic-conformal":return wi(By,mn,mn);case"conic-equal-area":return wi(to,6.1702,2.9781);case"conic-equidistant":return wi(Wy,7.312,3.6282);case"equal-earth":return Ht(Gy,5.4133,2.6347);case"equirectangular":return Ht(Yy,mn,N1);case"gnomonic":return Ht(Xy,3.4641,3.4641);case"identity":return{type:k1};case"reflect-y":return{type:M5};case"mercator":return Ht(zy,mn,mn);case"orthographic":return Ht(Zy,2,2);case"stereographic":return Ht(Ky,2,2);case"transverse-mercator":return Ht(jy,mn,mn);default:throw new Error(`unknown projection type: ${t}`)}}function x5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return rh(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Ht(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var s,u,h;const c=t();return a!=null&&((s=c.precision)==null||s.call(c,a)),o!=null&&((u=c.rotate)==null||u.call(c,o)),typeof f=="number"&&((h=c.clipAngle)==null||h.call(c,f)),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function wi(t,n,e){const{type:r,aspectRatio:i}=Ht(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const k1=Mn({stream:t=>t}),M5=Mn(Ji({point(t,n){this.stream.point(t,-n)}}));function $5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(h,l){f[s]=h,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function T5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Bn(t)&&(t=t.type),t!=null)}function S5(t){if(typeof(t==null?void 0:t.stream)=="function")return Aa;if(Bn(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?Ef(t).type:t,[[i,o],[a,f]]=Zf(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Aa}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=Ef(t);if(n)return n}return Aa}}function A5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)jn(a,o);return[r,i]}function C5({x:t,y:n}){if(t||n)return t??(t=e=>e),n??(n=e=>e),Ji({point(e,r){this.stream.point(t(e),n(r))}})}function Ic(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:r1(e)}}function $t(t,{document:n}){return te(vo(t).call(n.documentElement))}const Nf=Symbol("unset");function Dc(t){return(t.length===1?E5:N5)(t)}function E5(t){let n,e=Nf;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function N5(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const k5=Dc(t=>new Intl.NumberFormat(t));Dc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));Dc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function I5(t="en-US"){const n=k5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function D5(t){return lw(t,"Invalid Date")}function L5(t="en-US"){const n=I5(t);return e=>(e instanceof Date?D5:typeof e=="number"?n:vt)(e)}const Ve=L5(),kt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let R5=0;function I1(){return`plot-clip-${++R5}`}function F5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:_,mixBlendMode:b,imageFilter:v,paintOrder:y,pointerEvents:M,shapeRendering:w,channels:x},{ariaLabel:T,fill:S="currentColor",fillOpacity:N,stroke:$="none",strokeOpacity:D,strokeWidth:F,strokeLinecap:L,strokeLinejoin:A,strokeMiterlimit:O,paintOrder:V}){S===null&&(f=null,c=null),$===null&&(s=null,h=null),At(S)?!At($)&&(!At(f)||x!=null&&x.fill)&&($="none"):At($)&&(!At(s)||x!=null&&x.stroke)&&(S="none");const[Y,W]=Cn(f,S),[k,P]=St(c,N),[z,I]=Cn(s,$),[G,nt]=St(h,D),[K,U]=St(_);Lr(I)||(u===void 0&&(u=F),d===void 0&&(d=L),l===void 0&&(l=A),p===void 0&&!Uw(l)&&(p=O),!Lr(W)&&y===void 0&&(y=V));const[q,E]=St(u);return S!==null&&(t.fill=yt(W,"currentColor"),t.fillOpacity=fr(P,1)),$!==null&&(t.stroke=yt(I,"none"),t.strokeWidth=fr(E,1),t.strokeOpacity=fr(nt,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(d,"butt"),t.strokeMiterlimit=fr(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(m,"0")),t.target=vt(a),t.ariaLabel=vt(T),t.ariaDescription=vt(i),t.ariaHidden=vt(o),t.opacity=fr(U,1),t.mixBlendMode=yt(b,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(y,"normal"),t.pointerEvents=yt(M,"auto"),t.shapeRendering=yt(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:k,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:G,scale:"auto",optional:!0},strokeWidth:{value:q,optional:!0},opacity:{value:K,scale:"auto",optional:!0}}}function P5(t,n){n&&t.filter(e=>uc(n[e])).append("title").call(U5,n)}function O5(t,n){n&&t.filter(([e])=>uc(n[e])).append("title").call(z5,n)}function U5(t,n){n&&t.text(e=>Ve(n[e]))}function z5(t,n){n&&t.text(([e])=>Ve(n[e]))}function Je(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&j(t,"aria-label",l=>r[l]),o&&j(t,"fill",l=>o[l]),a&&j(t,"fill-opacity",l=>a[l]),f&&j(t,"stroke",l=>f[l]),c&&j(t,"stroke-opacity",l=>c[l]),s&&j(t,"stroke-width",l=>s[l]),u&&j(t,"opacity",l=>u[l]),h&&D1(t,l=>h[l],n),e||P5(t,i)}function q5(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&j(t,"aria-label",([l])=>r[l]),o&&j(t,"fill",([l])=>o[l]),a&&j(t,"fill-opacity",([l])=>a[l]),f&&j(t,"stroke",([l])=>f[l]),c&&j(t,"stroke-opacity",([l])=>c[l]),s&&j(t,"stroke-width",([l])=>s[l]),u&&j(t,"opacity",([l])=>u[l]),h&&D1(t,([l])=>h[l],n),e||O5(t,i)}function B5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:s}){return[t,s?void 0:n,e,r,i,o,a,f,c].filter(u=>u!==void 0)}function Y5(t,n,e){const r=ol(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Fn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*H5(t,n,e,r){const{z:i}=e,{z:o}=r,a=B5(r,e),f=[...n,...a];for(const c of o?Y5(t,o,i):[t]){let s,u;t:for(const h of c){for(const l of f)if(!Un(l[h])){u&&u.push(-1);continue t}if(s===void 0){u&&(yield u),s=a.map(l=>$n(l[h])),u=[h];continue}u.push(h);for(let l=0;l<a.length;++l)if($n(a[l][h])!==s[l]){yield u,s=a.map(p=>$n(p[h])),u=[h];continue t}}u&&(yield u)}}function W5(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=$t("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=G5(r,e)):o&&(i=Z5(o,r)),j(t,"aria-label",n.ariaLabel),j(t,"aria-description",n.ariaDescription),j(t,"aria-hidden",n.ariaHidden),j(t,"clip-path",i)}function V5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=I1();te(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const G5=V5((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),ks=new WeakMap,X5={type:"Sphere"};function Z5(t,n){let e,r;if((e=ks.get(n))||ks.set(n,e=new WeakMap),t.type==="Sphere"&&(t=X5),!(r=e.get(t))){const i=I1();te(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function Wn(t,n,e,r){W5(t,n,e,r),j(t,"class",n.className),j(t,"fill",n.fill),j(t,"fill-opacity",n.fillOpacity),j(t,"stroke",n.stroke),j(t,"stroke-width",n.strokeWidth),j(t,"stroke-opacity",n.strokeOpacity),j(t,"stroke-linejoin",n.strokeLinejoin),j(t,"stroke-linecap",n.strokeLinecap),j(t,"stroke-miterlimit",n.strokeMiterlimit),j(t,"stroke-dasharray",n.strokeDasharray),j(t,"stroke-dashoffset",n.strokeDashoffset),j(t,"shape-rendering",n.shapeRendering),j(t,"filter",n.imageFilter),j(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;j(t,"pointer-events",i)}function Vn(t,n){K5(t,"mix-blend-mode",n.mixBlendMode),j(t,"opacity",n.opacity)}function D1(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Ie.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Ie.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function j(t,n,e){e!=null&&t.attr(n,e)}function K5(t,n,e){e!=null&&t.style(n,e)}function Gn(t,n,{x:e,y:r},i=kt,o=kt){i+=n.dx,o+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function yt(t,n){if((t=vt(t))!==n)return t}function fr(t,n){if((t=Mt(t))!==n)return t}const j5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Lc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!j5.test(t))throw new Error(`invalid class name: ${t}`);return t}function Rc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function oi({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Qt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:_,clip:b=i==null?void 0:i.clip,channels:v,tip:y,render:M}=r;if(this.data=n,this.sort=He(s)?s:null,this.initializer=We(r).initializer,this.transform=this.initializer?r.transform:Mc(r).transform,o===null||o===!1?this.facet=null:(this.facet=jt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Ii&&typeof f=="string"?[f]:f,this.fy=n===Ii&&typeof c=="string"?[c]:c),this.facetAnchor=p5(a),e=e1(e),v!==void 0&&(e={...Q5(v),...e}),i!==void 0&&(e={...F5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,x])=>{if(Yo(x.value)){const{value:T,label:S=x.label,scale:N=x.scale}=x.value;x={...x,label:S,scale:N,value:T}}if(n===Ii&&typeof x.value=="string"){const{value:T}=x;x={...x,value:[T]}}return[w,x]}).filter(([w,{value:x,optional:T}])=>{if(x!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=r1(b),this.tip=J5(y),this.className=vt(_),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:x}=e[w];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=R1(M,this.render))}initialize(n,e,r){let i=Ye(this.data);n===void 0&&i!=null&&(n=[je(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Ye(i)),n!==void 0&&(n.original=o);const a=h3(this.channels,i);return this.sort!=null&&p3(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=Un}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&$5(i,o,e,r.projection)}}scale(n,e,r){const i=d3(n,e);return r.projection&&this.project(n,i,r),i}}function L1(...t){return t.plot=Qt.prototype.plot,t}function R1(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,s,u,h,l)=>n.call(this,c,s,u,h,l,f))}}function Q5(t){return Object.fromEntries(Object.entries(e1(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Jr(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function J5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?jt(t,"tip",["x","y","xy"]):t}function Fc(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:Bn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function t8(t,n,e={}){let r=.5-kt,i=.5+kt,o=.5+kt,a=.5-kt;for(const{marginTop:g,marginRight:m,marginBottom:_,marginLeft:b}of n)g>r&&(r=g),m>i&&(i=m),_>o&&(o=_),b>a&&(a=b);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:h=f!==void 0?f:a}=e;c=+c,s=+s,u=+u,h=+h;let{width:l=640,height:d=n8(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=e;l=+l,d=+d;const p={width:l,height:d,marginTop:c,marginRight:s,marginBottom:u,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:_=g!==void 0?g:s,marginBottom:b=g!==void 0?g:u,marginLeft:v=g!==void 0?g:h}=e.facet??{};m=+m,_=+_,b=+b,v=+v,p.facet={marginTop:m,marginRight:_,marginBottom:b,marginLeft:v}}return p}function n8({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const h=e&&e.scale.domain().length||1,l=S5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-u-c)*m+f+s)}const d=n?ye(n)?n.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Is("y",n)/(Is("x",t)*o),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,_=g*(a-u-c)-t.insetLeft-t.insetRight;return(p*_+n.insetTop+n.insetBottom)/m+f+s}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function Is(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Ot(r);return Math.abs(i(a)-i(o))}const Ds=new WeakMap;function Pc(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...s,render:R1(function(u,h,l,d,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:_}=p.getMarkState(this);let b=Ds.get(m);b||Ds.set(m,b={sticky:!1,roots:[],renders:[]});let v=b.renders.push(I)-1;const{x:y,y:M,fx:w,fy:x}=h;let T=w?w(u.fx)-d.marginLeft:0,S=x?x(u.fy)-d.marginTop:0;y!=null&&y.bandwidth&&(T+=y.bandwidth()/2),M!=null&&M.bandwidth&&(S+=M.bandwidth()/2);const N=u.fi!=null;let $;if(N){let U=b.facetStates;U||(b.facetStates=U=new Map),$=U.get(this),$||U.set(this,$=new Map)}const[D,F]=oi(this,d),{px:L,py:A}=l,O=L?U=>L[U]:F1(l,D),V=A?U=>A[U]:P1(l,F);let Y,W,k,P;function z(U,q){if(N)if(P&&(P=cancelAnimationFrame(P)),U==null)$.delete(u.fi);else{$.set(u.fi,q),P=requestAnimationFrame(()=>{P=null;for(const[E,R]of $)if(R<q||R===q&&E<u.fi){U=null;break}I(U)});return}I(U)}function I(U){if(Y===U&&k===b.sticky)return;Y=U,k=p.pointerSticky=b.sticky;const q=Y==null?[]:[Y];N&&(q.fx=u.fx,q.fy=u.fy,q.fi=u.fi);const E=g(q,h,l,d,p);if(W){if(N){const R=W.parentNode,B=W.getAttribute("transform"),C=E.getAttribute("transform");B?E.setAttribute("transform",B):E.removeAttribute("transform"),C?R.setAttribute("transform",C):R.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}W.replaceWith(E)}if(b.roots[v]=W=E,!(Y==null&&($==null?void 0:$.size)>1)){const R=Y==null?null:Qr(_)?_[Y]:_.get(Y);p.dispatchValue(R)}return E}function G(U){if(b.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[q,E]=t2(U);q-=T,E-=S;const R=q<d.marginLeft||q>d.width-d.marginRight?1:t,B=E<d.marginTop||E>d.height-d.marginBottom?1:n;let C=null,et=a*a;for(const H of u){const ot=R*(O(H)-q),ct=B*(V(H)-E),_t=ot*ot+ct*ct;_t<=et&&(C=H,et=_t)}if(C!=null&&(t!==1||n!==1)){const H=O(C)-q,ot=V(C)-E;et=H*H+ot*ot}z(C,et)}function nt(U){U.pointerType==="mouse"&&Y!=null&&(b.sticky&&b.roots.some(q=>q==null?void 0:q.contains(U.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(q=>q(null))):(b.sticky=!0,I(Y)),U.stopImmediatePropagation()))}function K(U){U.pointerType==="mouse"&&(b.sticky||z(null))}return m.addEventListener("pointerenter",G),m.addEventListener("pointermove",G),m.addEventListener("pointerdown",nt),m.addEventListener("pointerleave",K),I(null)},c)}}function e8(t){return Pc(1,1,t)}function r8(t){return Pc(1,.01,t)}function Ls(t){return Pc(.01,1,t)}function F1({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function P1({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function O1(t){return ye(t)&&t.interval===void 0?void 0:"tabular-nums"}function i8(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:h=(i-s-f)/64,tickFormat:l,fontVariant:d=O1(t),round:p=!0,opacity:g,className:m}=n;const _=Ic(n);m=Lc(m),g=St(g)[1],l===null&&(l=()=>null);const b=$t("svg",_).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(D=>D.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(Rc,u);let v=D=>D.selectAll(".tick line").attr("y1",a+c-o),y;const M=p?(D,F)=>D.rangeRound(F):(D,F)=>D.range(F),{type:w,domain:x,range:T,interpolate:S,scale:N,pivot:$}=t;if(S){const D=T===void 0?S:$o(S.length===1?Ec(S):S,T);y=M(N.copy(),Gt(wt(s,i-f),Math.min(x.length+($!==void 0),T===void 0?1/0:T.length)));const F=256,L=_.document.createElement("canvas");L.width=F,L.height=1;const A=L.getContext("2d");for(let O=0,V=F-1;O<F;++O)A.fillStyle=D(O/V),A.fillRect(O,0,1,1);b.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(w==="threshold"){const D=x,F=l===void 0?L=>L:typeof l=="string"?Ze(l):l;y=M(tc().domain([-1,T.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(L,A)=>y(A-1)).attr("y",a).attr("width",(L,A)=>y(A)-y(A-1)).attr("height",o-a-c).attr("fill",L=>L),h=ht(D,(L,A)=>A),l=L=>F(D[L],L)}else y=M(No().domain(x),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(x).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-c).attr("fill",N),v=()=>{};return b.append("g").attr("transform",`translate(0,${o-c})`).call(bg(y).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(d,"normal")).call(v).call(D=>D.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const U1=Math.PI/180;function Oc(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Ca(e),t.markerMid=Ca(r),t.markerEnd=Ca(i)}function Ca(t){if(t==null||t===!1)return null;if(t===!0)return Fs;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Rs("auto");case"arrow-reverse":return Rs("auto-start-reverse");case"dot":return o8;case"circle":case"circle-fill":return Fs;case"circle-stroke":return a8;case"tick":return Ea("auto");case"tick-x":return Ea(90);case"tick-y":return Ea(0)}throw new Error(`invalid marker: ${t}`)}function Rs(t){return(n,e)=>$t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function o8(t,n){return $t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Fs(t,n){return $t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function a8(t,n){return $t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Ea(t){return(n,e)=>$t("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let f8=0;function z1(t,n,{stroke:e},r){return B1(t,n,e&&(i=>e[i]),null,r)}function c8(t,n,{stroke:e,z:r},i){return B1(t,n,e&&(([o])=>e[o]),r,i)}const kf=1,q1=2;function u8(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Nf;o<i;++o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=$n(n[c]))&&(e[c]|=kf)}}for(let o=i-1,a=Nf;o>=0;--o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=$n(n[c]))&&(e[c]|=q1)}}return([o])=>e[o]}function B1(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,s=a&&u8(t,a);function u(h,l,d){return function(p){if(d&&!d(p))return;const g=o(p);let m=c.get(l);m||c.set(l,m=new Map);let _=m.get(g);if(!_){const b=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++f8}`;b.setAttribute("id",v),m.set(g,_=`url(#${v})`)}this.setAttribute(h,_)}}n&&t.each(u("marker-start",n,s&&(h=>s(h)&kf))),e&&s&&t.each(u("marker-start",e,h=>!(s(h)&kf))),e&&t.each(u("marker-mid",e)),r&&t.each(u("marker-end",r,s&&(h=>s(h)&q1)))}function Uc({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=H1(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Y1({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=H1(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function H1(t,n,e){return t===void 0&&n===void 0&&e===void 0?kt?[1,0]:[.5,.5]:[n,e]}function W1(t,{interval:n}){return t={...Jr(t)},t.interval=_c(t.interval===void 0?n:t.interval),t}function V1(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=W1(i,e);if(f==null||c==null&&!r)return e;const s=be(i);if(c==null){let d;const p={transform:g=>d||(d=Ct(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let u,h;function l(d){return h!==void 0&&d===u?h:h=ht(Ct(u=d,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>c.offset(p)),label:s}:a})}function G1(t,n,e){const{[t]:r}=e,{value:i,interval:o}=W1(r,e);return i==null||o==null?e:n({...e,[t]:{label:be(r),transform:a=>{const f=ht(Ct(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(Nt(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function s8(t={}){return V1("x",Uc,t)}function l8(t={}){return V1("y",Y1,t)}function h8(t={}){return G1("x",Uc,t)}function d8(t={}){return G1("y",Y1,t)}const X1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class p8 extends Qt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Fc(e,"x"),X1),this.insetTop=Mt(f),this.insetBottom=Mt(c),Oc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:s,y2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:_,insetBottom:b}=this;return $t("svg:g",o).call(Wn,this,i,o).call(Gn,this,{x:c&&a},kt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Vn,this).attr("x1",c?y=>c[y]:(g+h-p)/2).attr("x2",c?y=>c[y]:(g+h-p)/2).attr("y1",s&&!ho(f)?y=>s[y]+_:d+_).attr("y2",u&&!ho(f)?f.bandwidth?y=>u[y]+f.bandwidth()-b:y=>u[y]-b:l-m-b).call(Je,this,r).call(z1,this,r,o)).node()}}class g8 extends Qt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Fc(e,"y"),X1),this.insetRight=Mt(f),this.insetLeft=Mt(c),Oc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:s,x2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:_,insetRight:b}=this;return $t("svg:g",o).call(Wn,this,i,o).call(Gn,this,{y:c&&f},0,kt).call(v=>v.selectAll().data(n).enter().append("line").call(Vn,this).attr("x1",s&&!ho(a)?y=>s[y]+_:g+_).attr("x2",u&&!ho(a)?a.bandwidth?y=>u[y]+a.bandwidth()-b:y=>u[y]-b:h-p-b).attr("y1",c?y=>c[y]:(d+l-m)/2).attr("y2",c?y=>c[y]:(d+l-m)/2).call(Je,this,r).call(z1,this,r,o)).node()}}function m8(t,n){let{x:e=Lt,y:r,y1:i,y2:o,...a}=l8(n);return[i,o]=Z1(r,i,o),new p8(t,{...a,x:e,y1:i,y2:o})}function b8(t,n){let{y:e=Lt,x:r,x1:i,x2:o,...a}=s8(n);return[i,o]=Z1(r,i,o),new g8(t,{...a,y:e,x1:i,x2:o})}function Z1(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function zc(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const y8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},K1="";class qc extends Qt{constructor(n,e={}){const{x:r,y:i,text:o=Yn(n)&&n1(n)?Lt:G0,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:_,rotate:b}=e,[v,y]=St(b,0),[M,w]=$8(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:Dw(v),optional:!0},text:{value:o,filter:uc,optional:!0}},e,y8),this.rotate=y,this.textAnchor=yt(f,"middle"),this.lineAnchor=jt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=j1(h),this.monospace=!!l,this.fontFamily=vt(d),this.fontSize=w,this.fontStyle=vt(g),this.fontVariant=vt(m),this.fontWeight=vt(_),this.frameAnchor=Wo(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=tp(this),this.clipLine=np(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,rotate:u,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[g,m]=oi(this,i);return $t("svg:g",o).call(Wn,this,i,o).call(J1,this,h,i).call(Gn,this,{x:c&&a,y:s&&f}).call(_=>_.selectAll().data(n).enter().append("text").call(Vn,this).call(_8,this,h,l).attr("transform",zc`translate(${c?b=>c[b]:g},${s?b=>s[b]:m})${u?b=>` rotate(${u[b]})`:p?` rotate(${p})`:""}`).call(j,"font-size",d&&(b=>d[b])).call(Je,this,r)).node()}}function j1(t){return t==null?null:jt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function _8(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(Ve(e[s])??"").map(c),h=u.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!u[p])continue;const g=this.ownerDocument.createElementNS(Ie.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=u[p],this.appendChild(g),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==e[s]){const d=this.ownerDocument.createElementNS(Ie.svg,"title");d.textContent=e[s],this.appendChild(d)}})}function Q1(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=bc(n,e)),new qc(t,{...r,x:n,y:e})}function w8(t,{x:n=Lt,...e}={}){return new qc(t,d8({...e,x:n}))}function v8(t,{y:n=Lt,...e}={}){return new qc(t,h8({...e,y:n}))}function J1(t,n,e){j(t,"text-anchor",n.textAnchor),j(t,"font-family",n.fontFamily),j(t,"font-size",n.fontSize),j(t,"font-style",n.fontStyle),j(t,"font-variant",n.fontVariant===void 0?x8(e):n.fontVariant),j(t,"font-weight",n.fontWeight)}function x8(t){return t&&(Fw(t)||Nt(t))?"tabular-nums":void 0}const M8=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function $8(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),M8.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function T8(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of S8(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===K1?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*S8(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case K1:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Ps={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Bc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=tr(t,i))r+=Ps[t[i]]??(rp(t,i)?120:Ps.e);return r}function Yc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=tr(t,i))r+=rp(t,i)?126:63;return r}function tp({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Yc:Bc,i=n*100;return o=>T8(o,i,r)}function np({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?Yc:Bc,i=n*100;switch(e){case"clip-start":return o=>Us(o,i,r,"");case"clip-end":return o=>Os(o,i,r,"");case"ellipsis-start":return o=>Us(o,i,r,Ne);case"ellipsis-middle":return o=>A8(o,i,r,Ne);case"ellipsis-end":return o=>Os(o,i,r,Ne)}}const Ne="";function Ge(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=tr(t,a);const s=e(t,a,f);if(o+s>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function Os(t,n,e,r){t=t.trim();const i=e(r),[o]=Ge(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function A8(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=Ge(t,n/2,e,o),[c]=Ge(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(tr(t,c)).trimStart()}function Us(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Ge(t,i-n+o,e,-o);return a<0?r:r+t.slice(tr(t,a)).trimStart()}const If=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,zs=new RegExp("\\p{Extended_Pictographic}","uy");function tr(t,n){return n+=C8(t,n)?2:1,N8(t,n)&&(n=If.lastIndex),E8(t,n)?tr(t,n+1):n}function ep(t,n){return t.charCodeAt(n)<128}function C8(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function E8(t,n){return t.charCodeAt(n)===8205}function N8(t,n){return ep(t,n)?!1:(If.lastIndex=n,If.test(t))}function rp(t,n){return ep(t,n)?!1:(zs.lastIndex=n,zs.test(t))}const k8={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},ip=3.5,I8=ip*5,op={draw(t,n,e){const r=n*e/I8;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},D8={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},L8=new Map([["arrow",op],["spike",D8]]);function R8(t){return t&&typeof t.draw=="function"}function F8(t){if(R8(t))return t;const n=L8.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class ap extends Qt{constructor(n,e={}){const{x:r,y:i,r:o=ip,length:a,rotate:f,shape:c=op,anchor:s="middle",frameAnchor:u}=e,[h,l]=St(a,12),[d,p]=St(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,k8),this.r=+o,this.length=l,this.rotate=p,this.shape=F8(c),this.anchor=jt(s,"anchor",["start","middle","end"]),this.frameAnchor=Wo(u)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,length:u,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:g,r:m}=this,[_,b]=oi(this,i);return $t("svg:g",o).call(Wn,this,i,o).call(Gn,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Vn,this).attr("transform",zc`translate(${c?y=>c[y]:_},${s?y=>s[y]:b})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${l})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${l/2})`}`).attr("d",u?y=>{const M=Jn();return g.draw(M,u[y],m),M}:(()=>{const y=Jn();return g.draw(y,l,m),y})()).call(Je,this,r)).node()}}function P8(t,n={}){const{x:e=Lt,...r}=n;return new ap(t,{...r,x:e})}function O8(t,n={}){const{y:e=Lt,...r}=n;return new ap(t,{...r,y:e})}function Xn(t,n){return arguments.length<2&&!Yn(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Ko({anchor:t}={},n){return t===void 0?n[0]:jt(t,"anchor",n)}function fp(t){return Ko(t,["left","right"])}function cp(t){return Ko(t,["right","left"])}function up(t){return Ko(t,["bottom","top"])}function sp(t){return Ko(t,["top","bottom"])}function lp(){const[t,n]=Xn(...arguments);return dp("y",fp(n),t,n)}function U8(){const[t,n]=Xn(...arguments);return dp("fy",cp(n),t,n)}function hp(){const[t,n]=Xn(...arguments);return pp("x",up(n),t,n)}function z8(){const[t,n]=Xn(...arguments);return pp("fx",sp(n),t,n)}function dp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:_,margin:b,marginTop:v=b===void 0?20:b,marginRight:y=b===void 0?n==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:w=b===void 0?n==="left"?40:0:b,label:x,labelAnchor:T,labelArrow:S,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),m=Mt(m),T!==void 0&&(T=jt(T,"labelAnchor",["center","top","bottom"])),S=xp(S),L1(p&&!At(o)?q8(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:_,ariaLabel:$,...D}):null,At(c)?null:Y8(t,n,e,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:_,marginTop:v,marginRight:y,marginBottom:M,marginLeft:w,ariaLabel:$,...D}),!At(c)&&x!==null?Q1([],yp({fill:c,fillOpacity:s,...D},function(F,L,A,O,V){const Y=O[t],{marginTop:W,marginRight:k,marginBottom:P,marginLeft:z}=t==="y"&&V.inset||V,I=T??(Y.bandwidth?"center":"top"),G=N??(n==="right"?k:z)-3;return I==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=I,this.frameAnchor=`${I}-${n}`,this.rotate=0),this.dy=I==="top"?3-W:I==="bottom"?P-3:0,this.dx=n==="right"?G:-G,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[vp(t,Y,{anchor:n,label:x,labelAnchor:I,labelArrow:S})]}}}})):null)}function pp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:_,margin:b,marginTop:v=b===void 0?n==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:M=b===void 0?n==="bottom"?30:0:b,marginLeft:w=b===void 0?20:b,label:x,labelAnchor:T,labelArrow:S,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),m=Mt(m),T!==void 0&&(T=jt(T,"labelAnchor",["center","left","right"])),S=xp(S),L1(p&&!At(o)?B8(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:_,ariaLabel:$,...D}):null,At(c)?null:H8(t,n,e,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:_,marginTop:v,marginRight:y,marginBottom:M,marginLeft:w,ariaLabel:$,...D}),!At(c)&&x!==null?Q1([],yp({fill:c,fillOpacity:s,...D},function(F,L,A,O,V){const Y=O[t],{marginTop:W,marginRight:k,marginBottom:P,marginLeft:z}=t==="x"&&V.inset||V,I=T??(Y.bandwidth?"center":"right"),G=N??(n==="top"?W:P)-3;return I==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${I}`,this.textAnchor=I==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-G:G,this.dx=I==="right"?k-3:I==="left"?3-z:0,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[vp(t,Y,{anchor:n,label:x,labelAnchor:I,labelArrow:S})]}}}})):null)}function q8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:h=s,dx:l=0,y:d=t==="y"?void 0:null,ariaLabel:p,...g}){return nr(O8,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...g,dx:n==="left"?+l-kt+ +u:+l+kt-h,anchor:"start",length:c,shape:n==="left"?Q8:J8})}function B8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:h=s,dy:l=0,x:d=t==="x"?void 0:null,ariaLabel:p,...g}){return nr(P8,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...g,dy:n==="bottom"?+l-kt-h:+l+kt+ +u,anchor:"start",length:c,shape:n==="bottom"?K8:j8})}function Y8(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*U1):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:g=0,ariaLabel:m,y:_=t==="y"?void 0:null,...b}){return nr(v8,t,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,y:_,...b,dx:n==="left"?+g-o-f+ +d:+g+ +o+ +f-p},function(v,y,M,w,x){h===void 0&&(this.fontVariant=wp(v)),c===void 0&&(x.text=_p(v,y,M,w,n))})}function H8(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*U1):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,ariaLabel:_,...b}){return nr(w8,t,e,{ariaLabel:`${_} tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,x:m,...b,dy:n==="bottom"?+g+ +o+ +f-p:+g-o-f+ +d},function(v,y,M,w,x){h===void 0&&(this.fontVariant=wp(v)),c===void 0&&(x.text=_p(v,y,M,w,n))})}function W8(){const[t,n]=Xn(...arguments);return gp("y",fp(n),t,n)}function V8(){const[t,n]=Xn(...arguments);return gp("fy",cp(n),t,n)}function G8(){const[t,n]=Xn(...arguments);return mp("x",up(n),t,n)}function X8(){const[t,n]=Xn(...arguments);return mp("fx",sp(n),t,n)}function gp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return nr(b8,t,e,{ariaLabel:f,ariaHidden:c},{y:r,x1:o,x2:a,...bp(s)})}function mp(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return nr(m8,t,e,{ariaLabel:f,ariaHidden:c},{x:r,y1:o,y2:a,...bp(s)})}function bp({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function yp({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},h){return[,t]=Cn(t),[,n]=St(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:h}}function nr(t,n,e,r,i,o){let a;function f(u,h,l,d,p,g){const m=u==null&&(n==="fx"||n==="fy"),{[n]:_}=d;if(!_)throw new Error(`missing scale: ${n}`);const b=_.domain();let{interval:v,ticks:y,tickFormat:M,tickSpacing:w=n==="x"?80:35}=i;if(typeof y=="string"&&Mp(_)&&(v=y,y=void 0),y===void 0&&(y=Qe(v,_.type)??Z8(_,w)),u==null){if(Yn(y))u=me(y);else if(Ae(y))u=Na(y,...Ot(b));else if(_.interval){let T=_.interval;if(_.ticks){const[S,N]=Ot(b),$=(N-S)/T[jr];T=fs(T,$/y)??T,u=Na(T,S,N)}else{u=b;const S=u.length;T=fs(T,S/y)??T,T!==_.interval&&(u=Na(T,...Ot(u)))}if(T===_.interval){const S=Math.round(u.length/y);S>1&&(u=u.filter((N,$)=>$%S===0))}}else _.ticks?u=_.ticks(y):u=b;if(!_.ticks&&u.length&&u!==b){const T=new yo(b);u=u.filter(S=>T.has(S)),u.length||Fn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[je(u)]:a[n]={scale:n,value:Lt}}o==null||o.call(this,_,u,y,M,a);const x=Object.fromEntries(Object.entries(a).map(([T,S])=>[T,{...S,value:Ct(u,S.value)}]));return m&&(h=g.filterFacets(u,x)),{data:u,facets:h,channels:x}}const c=We(i).initializer,s=t(e,We({...i,initializer:f},c));return e==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function Z8(t,n){const[e,r]=Ot(t.range());return(r-e)/n}function _p(t,n,e,r,i){return{value:Hc(t,n,e,r,i)}}function Hc(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Nt(n)?bw(t.type,n,i)??Ve:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(Nt(t.domain())?Kr:Ze)(r):r===void 0?Ve:Mn(r)}function Na(t,n,e){return t.range(n,t.offset(t.floor(e)))}const K8={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},j8={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},Q8={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},J8={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function wp(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function vp(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Mp(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=n5(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function xp(t="auto"){return At(t)?!1:typeof t=="boolean"?t:jt(t,"labelArrow",["auto","up","right","down","left"])}function Mp(t){return Nt(t.domain())}function qs(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function t4(t,{opacity:n,...e}={}){if(!ye(t)&&!E1(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return $p(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",St(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function n4(t,{fill:n=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(u=>(u=t.hint)==null?void 0:u.stroke)()!==void 0?t.hint.stroke:At(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[h,l]=Cn(n),[d,p]=Cn(r),g=qs(c,h),m=qs(c,d),_=a*a*Math.PI;return e=St(e)[1],i=St(i)[1],o=St(o)[1],$p(t,f,(b,v,y,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",M).attr("fill",h==="color"?w=>g.scale(w):l).attr("fill-opacity",e).attr("stroke",d==="color"?w=>m.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",w=>{const x=Jn();return t.scale(w).draw(x,_),x}))}function $p(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=O1(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:h,width:l}=n;const d=Ic(n);u=Lc(u),i=Hc(t.scale,t.domain,void 0,i);const p=$t("div",d).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(o,"normal")).call(Rc,h).node()}const Df=new Map([["symbol",n4],["color",Sp],["opacity",r4]]);function e4(t,n,e={}){return(r,i)=>{if(!Df.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Df.get(r)(t[r],Tp(n,e[r],i),o=>t[o])}}function Tp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return zw(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function Sp(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return t4(t,e);case"ramp":return i8(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function r4({type:t,interpolate:n,...e},{legend:r=!0,color:i=Pn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Sp({type:t,...e,interpolate:i4(i)},{legend:r,...o})}function i4(t){const{r:n,g:e,b:r}=Pn(t)||Pn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function o4(t,n,e){const r=[];for(const[i,o]of Df){const a=e[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],Tp(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function a4(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(o)}function f4(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:f!==void 0?+f:0}={}){c||s||u||h?(t.rx1y1=c,t.rx1y2=s,t.rx2y1=u,t.rx2y2=h):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function c4(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:s}=o;typeof n!="function"&&(n=Mn(n)),typeof e!="function"&&(e=Mn(e)),typeof r!="function"&&(r=Mn(r)),typeof i!="function"&&(i=Mn(i));const u=Math.max(Math.abs(a+c),Math.abs(f+s)),h=Math.max(Math.abs(a+f),Math.abs(c+s));t.attr("d",l=>{const d=n(l),p=e(l),g=r(l),m=i(l),_=d>g,b=p>m,v=_?g:d,y=_?d:g,M=b?m:p,w=b?p:m,x=Math.min(1,(y-v)/u,(w-M)/h),T=x*(_?b?s:c:b?f:a),S=x*(_?b?f:a:b?s:c),N=x*(_?b?a:f:b?c:s),$=x*(_?b?c:s:b?a:f);return`M${v},${M+xi(T,$)}A${T},${T} 0 0 ${T<0?0:1} ${v+vi(T,$)},${M}H${y-vi(S,N)}A${S},${S} 0 0 ${S<0?0:1} ${y},${M+xi(S,N)}V${w-xi(N,S)}A${N},${N} 0 0 ${N<0?0:1} ${y-vi(N,S)},${w}H${v+vi($,T)}A${$},${$} 0 0 ${$<0?0:1} ${v},${w-xi($,T)}Z`})}function vi(t,n){return n<0?t:Math.abs(t)}function xi(t,n){return n<0?Math.abs(t):t}const u4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},s4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class l4 extends Qt{constructor(n={}){const{anchor:e=null}=n;super(Ii,void 0,n,e==null?u4:s4),this.anchor=j0(e,"anchor",["top","right","bottom","left"]),a4(this,n),e||f4(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:_,ry:b,rx1y1:v,rx1y2:y,rx2y1:M,rx2y2:w}=this,x=s+m,T=u-f-p,S=a+d,N=h-c-g;return $t(l?"svg:line":v||y||M||w?"svg:path":"svg:rect",o).datum(0).call(Wn,this,i,o).call(Vn,this).call(Je,this,r).call(Gn,this,{}).call(l==="left"?$=>$.attr("x1",x).attr("x2",x).attr("y1",S).attr("y2",N):l==="right"?$=>$.attr("x1",T).attr("x2",T).attr("y1",S).attr("y2",N):l==="top"?$=>$.attr("x1",x).attr("x2",T).attr("y1",S).attr("y2",S):l==="bottom"?$=>$.attr("x1",x).attr("x2",T).attr("y1",N).attr("y2",N):v||y||M||w?$=>$.call(c4,x,S,T,N,this):$=>$.attr("x",x).attr("y",S).attr("width",T-x).attr("height",N-S).attr("rx",_).attr("ry",b)).node()}}function h4(t){return new l4(t)}const ka={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},d4=new Set(["geometry","href","src","ariaLabel","scales"]);class p4 extends Qt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&Yn(n)&&n1(n)&&(e={...e,title:Lt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:h,fontFamily:l=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:_=1,lineWidth:b=20,frameAnchor:v,format:y,textAnchor:M="start",textOverflow:w,textPadding:x=8,title:T,pointerSize:S=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:T,optional:!0}},e,ka),this.anchor=Mf(s,"anchor"),this.preferredAnchor=Mf(u,"preferredAnchor"),this.frameAnchor=Wo(v),this.textAnchor=yt(M,"middle"),this.textPadding=+x,this.pointerSize=+S,this.pathFilter=vt(N),this.lineHeight=+_,this.lineWidth=+b,this.textOverflow=j1(w),this.monospace=!!h,this.fontFamily=vt(l),this.fontSize=Mt(d),this.fontStyle=vt(p),this.fontVariant=vt(g),this.fontWeight=vt(m);for(const $ in ka)$ in this.channels&&(this[$]=ka[$]);this.splitLines=tp(this),this.clipLine=np(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:_,pointerSize:b,pathFilter:v}=this,{marginTop:y,marginLeft:M}=i,{x1:w,y1:x,x2:T,y2:S,x:N=w??T,y:$=x??S}=r,D=s?s(n.fx)-M:0,F=u?u(n.fy)-y:0,[L,A]=oi(this,i),O=F1(r,L),V=P1(r,A),Y=p?Yc:Bc,W=Y(Ne);let k,P;"title"in r?(k=Bs.call(this,{title:r.channels.title},e),P=_4):(k=Bs.call(this,r.channels,e),P=w4);const z=$t("svg:g",o).call(Wn,this,i,o).call(J1,this).call(Gn,this,{x:N&&f,y:$&&c}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",K=>`translate(${Math.round(O(K))},${Math.round(V(K))})`).call(Vn,this).call(K=>K.append("path").attr("filter",v)).call(K=>K.append("text").each(function(U){const q=te(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=P.call(a,U,n,k,e,r);if(typeof E=="string")for(const R of a.splitLines(E))I(q,{value:a.clipLine(R)});else{const R=new Set;for(const B of E){const{label:C=""}=B;C&&R.has(C)||(R.add(C),I(q,B))}}})));function I(nt,{label:K,value:U,color:q,opacity:E}){K??(K=""),U??(U="");const R=q!=null||E!=null;let B,C=m*100;const[et]=Ge(K,C,Y,W);if(et>=0)K=K.slice(0,et).trimEnd()+Ne,B=U.trim(),U="";else{(K||!U&&!R)&&(U=" "+U);const[ot]=Ge(U,C-Y(K),Y,W);ot>=0&&(B=U.trim(),U=U.slice(0,ot).trimEnd()+Ne)}const H=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");K&&H.append("tspan").attr("font-weight","bold").text(K),U&&H.append(()=>l.createTextNode(U)),R&&H.append("tspan").text(" ").attr("fill",q).attr("fill-opacity",E).style("user-select","none"),B&&H.append("title").text(B)}function G(){const{width:nt,height:K}=i.facet??i;z.selectChildren().each(function(U){let{x:q,width:E,height:R}=this.getBBox();E=Math.round(E),R=Math.round(R);let B=d;if(B===void 0){const H=O(U)+D,ot=V(U)+F,ct=H+E+b+_*2<nt,_t=H-E-b-_*2>0,Nn=ot+R+b+_*2<K,Zn=ot-R-b-_*2>0;B=ct&&_t?Nn&&Zn?a.preferredAnchor:Zn?"bottom":"top":Nn&&Zn?ct?"left":"right":(ct||_t)&&(Nn||Zn)?`${Zn?"bottom":"top"}-${ct?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,et=this.lastChild;if(C.setAttribute("d",y4(B,b,_,E,R)),q)for(const H of et.childNodes)H.setAttribute("x",-q);et.setAttribute("y",`${+m4(B,et.childNodes.length,g).toFixed(6)}em`),et.setAttribute("transform",`translate(${b4(B,b,_,E,R)})`)}),z.attr("visibility",null)}return n.length&&(z.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(G):typeof requestAnimationFrame<"u"&&requestAnimationFrame(G)),z.node()}}function g4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=bc(n,e)),new p4(t,{...r,x:n,y:e})}function m4(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function b4(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function y4(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function Bs(t,n){var i,o;const e={};let r=this.format;r=Ys(r,t,"x"),r=Ys(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")e[a]=!0;else{const c=bs(t,a);c&&(e[a]=c)}}for(const a in t){if(a in e||a in r||d4.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const f=bs(t,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[a]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const a in e){const f=this.format[a];if(typeof f=="string"){const c=((i=e[a])==null?void 0:i.value)??((o=n[a])==null?void 0:o.domain())??[];this.format[a]=(Nt(c)?Kr:Ze)(f)}else if(f===void 0||f===!0){const c=n[a];this.format[a]=c!=null&&c.bandwidth?Hc(c,c.domain()):Ve}}return e}function Ys(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function _4(t,n,{title:e}){return this.format.title(e.value[t],t)}function*w4(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:po(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:Ws(r,e,"x"),value:Hs(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:Ws(r,e,"y"),value:Hs(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!Un(f)&&c==null)continue;yield{label:po(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function Hs(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function Ws(t,n,e){const r=po(t,n,`${e}1`,e),i=po(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function po(t,n,e,r=e){const i=n[e],o=t[(i==null?void 0:i.scale)??e];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function v4(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=Lc(t.className),s=t.marks===void 0?[]:Gs(t.marks);s.push(...C4(s));const u=S4(n,t),h=new Map;for(const k of s){const P=Xs(k,u,t);P&&h.set(k,P)}const l=new Map;u&&cr(l,[u],t),cr(l,h,t);const d=Gs(E4(s,l,t));for(const k of d){const P=Xs(k,u,t);P&&h.set(k,P)}s.unshift(...d);let p=u5(l,t);if(p!==void 0){const k=u?Sa(p,u):void 0;for(const z of s){if(z.facet===null||z.facet==="super")continue;const I=h.get(z);I!==void 0&&(I.facetsIndex=z.fx!=null||z.fy!=null?Sa(p,I):k)}const P=new Set;for(const{facetsIndex:z}of h.values())z==null||z.forEach((I,G)=>{(I==null?void 0:I.length)>0&&P.add(G)});p.forEach(0<P.size&&P.size<p.length?(z,I)=>z.empty=!P.has(I):z=>z.empty=!1);for(const z of s)if(z.facet==="exclude"){const I=h.get(z);I!==void 0&&(I.facetsIndex=h5(I.facetsIndex))}}for(const k of lt.keys())vf(t[k])&&k!=="fx"&&k!=="fy"&&l.set(k,[]);const g=new Map;for(const k of s){if(g.has(k))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:z}=h.get(k)??{},{data:I,facets:G,channels:nt}=k.initialize(P,z,t);Wc(nt,t),g.set(k,{data:I,facets:G,channels:nt})}const m=Af(cr(l,g,t),t),_=t8(m,s,t);J3(m,_);const b=Ts(m),{fx:v,fy:y}=b,M=v||y?S1(m,_):_,w=v||y?F4(b,_):_,x=Ic(t),T=x.document,S=vo("svg").call(T.documentElement);let N=S;x.ownerSVGElement=S,x.className=c,x.projection=v5(t,M),x.path=function(){return Zf(this.projection??C5(b))},x.filterFacets=(k,P)=>Sa(p,{channels:P,groups:kc(k,P)}),x.getMarkState=k=>{const P=g.get(k),z=h.get(k);return{...P,channels:{...P.channels,...z==null?void 0:z.channels}}},x.dispatchValue=k=>{N.value!==k&&(N.value=k,N.dispatchEvent(new x.document.defaultView.Event("input",{bubbles:!0})))};const $=new Set;for(const[k,P]of g)if(k.initializer!=null){const z=k.facet==="super"?w:M,I=k.initializer(P.data,P.facets,P.channels,b,z,x);if(I.data!==void 0&&(P.data=I.data),I.facets!==void 0&&(P.facets=I.facets),I.channels!==void 0){const{fx:G,fy:nt,...K}=I.channels;T4(K),Object.assign(P.channels,K);for(const U of Object.values(K)){const{scale:q}=U;q!=null&&!Yw(lt.get(q))&&(Ap(U,t),$.add(q))}(G!=null||nt!=null)&&h.set(k,!0)}}if($.size){const k=new Map;cr(k,g,t,G=>$.has(G)),cr(l,g,t,G=>$.has(G));const P=R4(Af(k,t),m),{scales:z,...I}=Ts(P);Object.assign(m,P),Object.assign(b,I),Object.assign(b.scales,z)}let D,F;p!==void 0&&(D={x:v==null?void 0:v.domain(),y:y==null?void 0:y.domain()},p=s5(p,D),F=l5(v,y,_));for(const[k,P]of g)P.values=k.scale(P.channels,b,x);const{width:L,height:A}=_;te(S).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",A).attr("viewBox",`0 0 ${L} ${A}`).attr("aria-label",a).attr("aria-description",f).call(k=>k.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(Rc,e);for(const k of s){const{channels:P,values:z,facets:I}=g.get(k);if(p===void 0||k.facet==="super"){let G=null;if(I&&(G=I[0],G=k.filter(G,P,z),G.length===0))continue;const nt=k.render(G,b,z,w,x);if(nt==null)continue;S.appendChild(nt)}else{let G;for(const nt of p){if(!(((W=k.facetAnchor)==null?void 0:W.call(k,p,D,nt))??!nt.empty))continue;let K=null;if(I){const q=h.has(k);if(K=I[q?nt.i:0],K=k.filter(K,P,z),K.length===0)continue;!q&&K===I[0]&&(K=Aw(K)),K.fx=nt.x,K.fy=nt.y,K.fi=nt.i}const U=k.render(K,b,z,M,x);if(U!=null){(G??(G=te(S).append("g"))).append(()=>U).datum(nt);for(const q of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(q)&&(G.attr(q,U.getAttribute(q)),U.removeAttribute(q))}}G==null||G.selectChildren().each(F)}}const O=o4(m,x,t),{figure:V=r!=null||i!=null||o!=null||O.length>0}=t;V&&(N=T.createElement("figure"),N.className=`${c}-figure`,N.style.maxWidth="initial",r!=null&&N.append(Vs(T,r,"h2")),i!=null&&N.append(Vs(T,i,"h3")),N.append(...O,S),o!=null&&N.append(x4(T,o)),"value"in S&&(N.value=S.value,delete S.value)),N.scale=f5(b.scales),N.legend=e4(m,x,t);const Y=F3();return Y>0&&te(S).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Y.toLocaleString("en-US")} warning${Y===1?"":"s"}. Please check the console.`),N}function Vs(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function x4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Gs(t){return t.flat(1/0).filter(n=>n!=null).map(M4)}function M4(t){return typeof t.render=="function"?t:new $4(t)}class $4 extends Qt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Wc(t,n){for(const e in t)Ap(t[e],n);return t}function Ap(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:t1(a,i)}=n[e]??{};f!=null&&(t.value=ht(t.value,f),t.transform=!1)}function T4(t){for(const n in t)h1(n,t[n])}function cr(t,n,e,r=$w){var i,o;for(const{channels:a}of n.values())for(const f in a){const c=a[f],{scale:s}=c;if(s!=null&&r(s))if(s==="projection"){if(!T5(e)){const u=((i=e.x)==null?void 0:i.domain)===void 0,h=((o=e.y)==null?void 0:o.domain)===void 0;if(u||h){const[l,d]=A5(c);u&&Ia(t,"x",l),h&&Ia(t,"y",d)}}}else Ia(t,s,c)}return t}function Ia(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function S4(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Ye(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Rr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Rr(i,{value:r,scale:"fy"})),Wc(o,n);const a=kc(i,o);return{channels:o,groups:a,data:t.data}}function Xs(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Ye(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=Rr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=Rr(c,{value:i,scale:"fy"})),Wc(s,e),{channels:s,groups:kc(c,s)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&xf(Ye(t.data))===xf(f)&&Fn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function A4(t,n={}){return We({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function C4(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?r8:/^y$/i.test(i)?Ls:e8,r=i(A4(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===Ls?"left":"bottom");const a=g4(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function E4(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:h=c,grid:l}=u,x:{axis:d=c,grid:p=d===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=o,fx:{axis:_=h,grid:b=_===null?null:l}=a,fy:{axis:v=h,grid:y=v===null?null:l}=f}=e;(r||!vf(i)&&!Zs("x",t))&&(d=p=null),(r||!vf(o)&&!Zs("y",t))&&(g=m=null),n.has("fx")||(_=b=null),n.has("fy")||(v=y=null),d===void 0&&(d=!Ti(t,"x")),g===void 0&&(g=!Ti(t,"y")),_===void 0&&(_=!Ti(t,"fx")),v===void 0&&(v=!Ti(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),_===!0&&(_=d==="top"||d===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const M=[];return $i(M,y,V8,f),Mi(M,v,U8,"right","left",u,f),$i(M,b,X8,a),Mi(M,_,z8,"top","bottom",u,a),$i(M,m,W8,o),Mi(M,g,lp,"left","right",e,o),$i(M,p,G8,i),Mi(M,d,hp,"bottom","top",e,i),M}function Mi(t,n,e,r,i,o,a){if(!n)return;const f=N4(n);a=k4(f?r:n,o,a);const{line:c}=a;(e===lp||e===hp)&&c&&!Lr(c)&&t.push(h4(I4(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function $i(t,n,e,r){!n||Lr(n)||t.push(e(D4(n,r)))}function N4(t){return/^\s*both\s*$/i.test(t)}function k4(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:g}}function I4(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function D4(t,{stroke:n=Ho(t)?t:void 0,ticks:e=L4(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function L4(t){switch(typeof t){case"number":return!0;case"string":return!Ho(t)}return Yn(t)||typeof(t==null?void 0:t.range)=="function"}function Ti(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function Zs(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function R4(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function F4({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=Nc(e),s=t&&Ks(t),u=n&&Ks(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function Ks(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const P4=new Map([["basis",X_],["basis-closed",Z_],["basis-open",K_],["bundle",j_],["bump-x",P_],["bump-y",O_],["cardinal",Q_],["cardinal-closed",J_],["cardinal-open",tw],["catmull-rom",nw],["catmull-rom-closed",ew],["catmull-rom-open",rw],["linear",Oo],["linear-closed",iw],["monotone-x",ow],["monotone-y",aw],["natural",fw],["step",cw],["step-after",sw],["step-before",uw]]);function O4(t=Oo,n){if(typeof t=="function")return t;const e=P4.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function U4(t=go,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?go:O4(t,n)}function go(t){return Oo(t)}function z4(t={y:"count"},n={}){[t,n]=H4(t,n);const{x:e,y:r}=n;return Y4(W4(e,n,Lt),null,null,r,t,Uc(n))}function q4(t,n,e={}){if((e==null?void 0:e.interval)==null)return e;const{reduce:r=Sc}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function B4(t={}){return q4(z4,"y",Fc(t,"x"))}function Y4(t,n,e,r,{data:i=l1,filter:o=lo,sort:a,reverse:f,...c}={},s={}){t=js(t),n=js(n),c=G4(c,s),i=Np(i,Lt),a=a==null?void 0:Cp("sort",a,s),o=o==null?void 0:Ep("filter",o,s),r!=null&&_a(c,"y","y1","y2")&&(r=null);const[u,h]=kn(t),[l,d]=kn(t),[p,g]=kn(n),[m,_]=kn(n),[b,v]=r!=null?[r,"y"]:[],[y,M]=kn(b),{x:w,y:x,z:T,fill:S,stroke:N,x1:$,x2:D,y1:F,y2:L,domain:A,cumulative:O,thresholds:V,interval:Y,...W}=s,[k,P]=kn(T),[z]=Cn(S),[I]=Cn(N),[G,nt]=kn(z),[K,U]=kn(I);return{..."z"in s&&{z:k||T},..."fill"in s&&{fill:G||S},..."stroke"in s&&{stroke:K||N},...Mc(W,(q,E,R)=>{const B=Ew(Ct(q,b),R==null?void 0:R[v]),C=Ct(q,T),et=Ct(q,z),H=Ct(q,I),ot=r3(c,{z:C,fill:et,stroke:H}),ct=[],_t=[],Nn=B&&M([]),Zn=C&&P([]),Ip=et&&nt([]),Dp=H&&U([]),Gc=t&&h([]),Lp=t&&d([]),Xc=n&&g([]),Rp=n&&_([]),Fp=K4(t,n,q);let Pp=0;for(const _e of c)_e.initialize(q);a&&a.initialize(q),o&&o.initialize(q);for(const _e of E){const Zc=[];for(const we of c)we.scope("facet",_e);a&&a.scope("facet",_e),o&&o.scope("facet",_e);for(const[we,Op]of ds(_e,ot))for(const[Up,ai]of ds(Op,B))for(const[Jt,hn]of Fp(ai))if(ot&&(hn.z=we),!(o&&!o.reduce(Jt,hn))){Zc.push(Pp++),_t.push(i.reduceIndex(Jt,q,hn)),B&&Nn.push(Up),C&&Zn.push(ot===C?we:C[(Jt.length>0?Jt:ai)[0]]),et&&Ip.push(ot===et?we:et[(Jt.length>0?Jt:ai)[0]]),H&&Dp.push(ot===H?we:H[(Jt.length>0?Jt:ai)[0]]),Gc&&(Gc.push(hn.x1),Lp.push(hn.x2)),Xc&&(Xc.push(hn.y1),Rp.push(hn.y2));for(const zp of c)zp.reduce(Jt,hn);a&&a.reduce(Jt,hn)}ct.push(Zc)}return i3(ct,a,f),{data:_t,facets:ct}}),...!_a(c,"x")&&(u?{x1:u,x2:l,x:ls(u,l)}:{x:w,x1:$,x2:D}),...!_a(c,"y")&&(p?{y1:p,y2:m,y:ls(p,m)}:{y:x,y1:F,y2:L}),...y&&{[v]:y},...Object.fromEntries(c.map(({name:q,output:E})=>[q,E]))}}function H4({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function W4(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...Jr(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=V4(t.thresholds,t.interval),t}function js(t){if(t==null)return;const{value:n,cumulative:e,domain:r=Ot,thresholds:i}=t,o=a=>{let f=Ct(a,n),c;if(Nt(f)||Z4(i)){f=ht(f,K0,Float64Array);let[u,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Ae(i)?i(f,u,h):i;typeof l=="number"&&(l=Kh(u,h,l)),Ae(l)&&(r===Ot&&(u=l.floor(u),h=l.offset(l.floor(h))),l=l.range(u,l.offset(h))),c=l}else{f=Be(f);let[u,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Ae(i)?i(f,u,h):i;if(typeof l=="number")if(r===Ot){let d=Ri(u,h,l);if(isFinite(d))if(d>0){let p=Math.round(u/d),g=Math.round(h/d);p*d<=u||--p,g*d>h||++g;let m=g-p+1;l=new Float64Array(m);for(let _=0;_<m;++_)l[_]=(p+_)*d}else if(d<0){d=-d;let p=Math.round(u*d),g=Math.round(h*d);p/d<=u||--p,g/d>h||++g;let m=g-p+1;l=new Float64Array(m);for(let _=0;_<m;++_)l[_]=(p+_)/d}else l=[u];else l=[u]}else l=Mr(u,h,l);else Ae(l)&&(r===Ot&&(u=l.floor(u),h=l.offset(l.floor(h))),l=l.range(u,l.offset(h)));c=l}const s=[];if(c.length===1)s.push([c[0],c[0]]);else for(let u=1;u<c.length;++u)s.push([c[u-1],c[u]]);return s.bin=(e<0?Q4:e>0?j4:Vc)(s,c,f),s};return o.label=be(n),o}function V4(t,n,e=Qs){if(t===void 0)return n===void 0?e:Qe(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return ig;case"scott":return ul;case"sturges":return tg;case"auto":return Qs}return dc(t)}return t}function G4(t,n){return t3(t,n,Cp)}function Cp(t,n,e){return u1(t,n,e,Ep)}function Ep(t,n,e){return s1(t,n,e,Np)}function Np(t,n){return Tc(t,n,X4)}function X4(t){switch(`${t}`.toLowerCase()){case"x":return J4;case"x1":return n7;case"x2":return e7;case"y":return t7;case"y1":return r7;case"y2":return i7;case"z":return l3}throw new Error(`invalid bin reduce: ${t}`)}function Qs(t,n,e){return Math.min(200,ul(t,n,e))}function Z4(t){return Iw(t)||Yn(t)&&Nt(t)}function K4(t,n,e){const r=t==null?void 0:t(e),i=n==null?void 0:n(e);return r&&i?function*(o){const a=r.bin(o);for(const[f,[c,s]]of r.entries()){const u=i.bin(a[f]);for(const[h,[l,d]]of i.entries())yield[u[h],{data:e,x1:c,y1:l,x2:s,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[f,[c,s]]of r.entries())yield[a[f],{data:e,x1:c,x2:s}]}:function*(o){const a=i.bin(o);for(const[f,[c,s]]of i.entries())yield[a[f],{data:e,y1:c,y2:s}]}}function Vc(t,n,e){return n=Be(n),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[bo(n,e[a])-1])==null||o.push(a);return i}}function j4(t,n,e){const r=Vc(t,n,e);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const c=o[a-1],s=o[a];for(const u of c)s.push(u)}return o}}function Q4(t,n,e){const r=Vc(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],c=o[a];for(const s of f)c.push(s)}return o}}function kp(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const J4={reduceIndex(t,n,{x1:e,x2:r}){return kp(e,r)}},t7={reduceIndex(t,n,{y1:e,y2:r}){return kp(e,r)}},n7={reduceIndex(t,n,{x1:e}){return e}},e7={reduceIndex(t,n,{x2:e}){return e}},r7={reduceIndex(t,n,{y1:e}){return e}},i7={reduceIndex(t,n,{y2:e}){return e}},o7={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function a7(t){return t.sort===void 0&&t.reverse===void 0?jw({channel:"-r"},t):t}class f7 extends Qt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:f=Dr,frameAnchor:c}=e,[s,u]=St(a,0),[h,l]=Zw(f),[d,p]=St(o,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:qo,optional:!0},rotate:{value:s,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},a7(e),o7),this.r=p,this.rotate=u,this.symbol=l,this.frameAnchor=Wo(c);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:_,stroke:b}=g;m.hint={fill:_?_.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:b?b.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,r:u,rotate:h,symbol:l}=r,{r:d,rotate:p,symbol:g}=this,[m,_]=oi(this,i),b=g===Dr,v=u?void 0:d*d*Math.PI;return sc(d)&&(n=[]),$t("svg:g",o).call(Wn,this,i,o).call(Gn,this,{x:c&&a,y:s&&f}).call(y=>y.selectAll().data(n).enter().append(b?"circle":"path").call(Vn,this).call(b?M=>{M.attr("cx",c?w=>c[w]:m).attr("cy",s?w=>s[w]:_).attr("r",u?w=>u[w]:d)}:M=>{M.attr("transform",zc`translate(${c?w=>c[w]:m},${s?w=>s[w]:_})${h?w=>` rotate(${h[w]})`:p?` rotate(${p})`:""}`).attr("d",u&&l?w=>{const x=Jn();return l[w].draw(x,u[w]*u[w]*Math.PI),x}:u?w=>{const x=Jn();return g.draw(x,u[w]*u[w]*Math.PI),x}:l?w=>{const x=Jn();return l[w].draw(x,v),x}:(()=>{const w=Jn();return g.draw(w,v),w})())}).call(Je,this,r)).node()}}function p7(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=bc(n,e)),new f7(t,{...r,x:n,y:e})}const c7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class u7 extends Qt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:f}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Sw(e),optional:!0}},e,c7),this.z=o,this.curve=U4(a,f),Oc(this,e)}filter(n){return n}project(n,e,r){this.curve!==go&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return $t("svg:g",o).call(Wn,this,i,o).call(Gn,this,e).call(s=>s.selectAll().data(H5(n,[a,f],this,r)).enter().append("path").call(Vn,this).call(q5,this,r).call(c8,this,r,o).attr("d",c===go&&o.projection?s7(o.path(),a,f):F_().curve(c).defined(u=>u>=0).x(u=>a[u]).y(u=>f[u]))).node()}}function s7(t,n,e){return n=Be(n),e=Be(e),r=>{let i=[];const o=[i];for(const a of r)a===-1?(i=[],o.push(i)):i.push([n[a],e[a]]);return t({type:"MultiLineString",coordinates:o})}}function g7(t,{x:n=G0,y:e=Lt,...r}={}){return new u7(t,B4({...r,x:n,y:e}))}Qt.prototype.plot=function({marks:t=[],...n}={}){return v4({...n,marks:[...t,this]})};export{Ct as A,he as B,$r as C,fn as D,Ew as E,bf as F,Mw as G,je as H,xr as I,B4 as J,G0 as K,O4 as L,Qt as M,$t as N,Wn as O,Gn as P,H5 as Q,Vn as R,q5 as S,v4 as T,g7 as U,b8 as V,p7 as W,Rn as a,D_ as b,Oo as c,xe as d,F_ as e,wf as f,ol as g,h7 as h,Lt as i,vw as j,Fc as k,xf as l,d7 as m,ls as n,l7 as o,Sw as p,kn as q,Si as r,al as s,J0 as t,Mc as u,Qr as v,I_ as w,L_ as x,R_ as y,_o as z};
