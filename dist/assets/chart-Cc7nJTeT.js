import{r,j as e}from"./index-WJHnJr6L.js";import{p as f,l as y,d as j,r as N}from"./index-UZeKSz3J.js";function C(){const l=r.useRef(null),[n,i]=r.useState([]),[a,u]=r.useState(!1),[p,o]=r.useState(0),s=r.useRef(null),b=()=>{s.current||(u(!0),i([]),o(0),s.current=setInterval(()=>{i(t=>{const h=t.length+1,d=Date.now(),c=Math.sin(h*.2)*10+Math.random()*5+20,m={x:d,y:c,category:"Real-time Data"},x=[...t,m];return x.length>50?x.slice(-50):x}),o(t=>t+1)},1e3))},g=()=>{s.current&&(clearInterval(s.current),s.current=null),u(!1)};return r.useEffect(()=>()=>{s.current&&clearInterval(s.current)},[]),r.useEffect(()=>{if(!l.current)return;const t=Date.now(),d=[t-6e4,t],c=f({title:a?"Real-time Line Chart":"Line Chart (Stopped)",height:400,marginLeft:60,marginRight:20,marginTop:30,marginBottom:40,x:{label:"Time",type:"linear",domain:d,tickFormat:m=>new Date(m).toLocaleTimeString()},y:{label:"Value",grid:!0},color:{legend:!0},marks:[n.length>0?y(n,{x:"x",y:"y",stroke:"#3b82f6",strokeWidth:2}):null,n.length>0?j(n,{x:"x",y:"y",fill:"#3b82f6",r:3}):null,N([0],{stroke:"#666",strokeDasharray:"2,2"})].filter(Boolean)});return l.current.innerHTML="",l.current.appendChild(c),()=>{l.current&&(l.current.innerHTML="")}},[n,a]),e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Real-time Chart Visualization"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"A real-time line chart that adds new data points every second, demonstrating live data visualization."})]}),e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Chart Controls"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${a?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a?"Running":"Stopped"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:b,disabled:a,className:`px-4 py-2 rounded font-medium transition-colors ${a?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:"Start"}),e.jsx("button",{onClick:g,disabled:!a,className:`px-4 py-2 rounded font-medium transition-colors ${a?"bg-red-500 text-white hover:bg-red-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Stop"}),e.jsx("button",{onClick:()=>{g(),i([]),o(0)},className:"px-4 py-2 bg-gray-500 text-white rounded font-medium hover:bg-gray-600 transition-colors",children:"Clear"})]})]})}),e.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:a?"Real-time Data Chart":"Data Chart"}),e.jsx("p",{className:"text-sm text-gray-600",children:a?"Chart is updating in real-time with new data points every second.":'Chart is stopped. Click "Start" to begin real-time data generation.'})]}),e.jsx("div",{ref:l,className:"w-full"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-gray-600",children:"Data Points"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:n.length})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-gray-600",children:"Total Generated"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:p})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-gray-600",children:"Value Range"}),e.jsx("p",{className:"text-sm font-mono",children:n.length>0?`${Math.min(...n.map(t=>t.y)).toFixed(2)} to ${Math.max(...n.map(t=>t.y)).toFixed(2)}`:"No data"})]})]})]})]})}export{C as component};
